function initToolTip(){$(".header").click(function(){$(".tooltip-content").html($("#tmpHMToolTip").html()),$(".tooltip-block").addClass("open"),setTimeout(function(){$(".tooltip-block").removeClass("open")},1e4)}),$(".tooltip-link").click(function(){var t=$(this).data("tooltip");t&&""!==t&&($(".tooltip-content").html(t),$(".tooltip-block").addClass("open"),setTimeout(function(){$(".tooltip-block").removeClass("open")},15e3))}),$(".tooltip-close").click(function(){$(".tooltip-block").removeClass("open")}),$(".header-tooltip").tipso({background:"rgb(255, 102, 0)",position:"top",useTitle:!0,tooltipHover:!0,speed:300,delay:100,width:220,onBeforeShow:function(t,o){t.tipso("update","content",t.html().toUpperCase())}})}function setContainerHtml(t){container.html(t),initToolTip()}function getHtml(t,o){$.get("/home/"+t,o,function(t){setContainerHtml(t)})}function vinClick(){getHtml("vcvin")}function yearClick(){getHtml("vcyear")}function exportClick(){getHtml("vcexport")}function newQuoteClick(){vinClick()}function cancelClick(){var t={iscancel:!0};$.post("/home/sendcancel",t,function(t){if(t.ErrorId){var o=$("#errorContainer");$(o).html(t.ErrorMessage),$(o).closest("div").addClass("bg-error")}else setContainerHtml(t)})}var container=$("#calculator"),$loading=$(".calculator-loader");$(document).ready(function(){$loading.hide(),initToolTip()}).ajaxStart(function(){}).ajaxStop(function(){}),jQuery.ajaxSetup({cache:!1,beforeSend:function(){$loading.show()},complete:function(){$loading.hide()},success:function(){}}),$(".click-btn").mousedown(function(t){var o=t.target,e=o.getBoundingClientRect(),r=o.querySelector(".ripple");$(r).remove(),r=document.createElement("span"),r.className="ripple",r.style.height=r.style.width=Math.max(e.width,e.height)+"px",o.appendChild(r);var n=t.pageY-e.top-r.offsetHeight/2-document.body.scrollTop,s=t.pageX-e.left-r.offsetWidth/2-document.body.scrollLeft;return r.style.top=n+"px",r.style.left=s+"px",!1}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function o(o,e){this.element=o,this.$element=t(this.element),this.doc=t(document),this.win=t(window),this.settings=t.extend({},i,e),"object"==typeof this.$element.data("tipso")&&t.extend(this.settings,this.$element.data("tipso"));for(var r=Object.keys(this.$element.data()),n={},l=0;l<r.length;l++){var d=r[l].replace(s,"");if(""!==d){d=d.charAt(0).toLowerCase()+d.slice(1),n[d]=this.$element.data(r[l]);for(var c in this.settings)c.toLowerCase()==d&&(this.settings[c]=n[d])}}this._defaults=i,this._name=s,this._title=this.$element.attr("title"),this.mode="hide",this.ieFade=!a,this.settings.preferedPosition=this.settings.position,this.init()}function e(o){var e=o.clone();e.css("visibility","hidden"),t("body").append(e);var r=e.outerHeight(),n=e.outerWidth();return e.remove(),{width:n,height:r}}function r(t){t.removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner"),t.find(".tipso_title").removeClass("top_right_corner bottom_right_corner top_left_corner bottom_left_corner")}function n(o){var s,i,a,l=o.tooltip(),d=o.$element,c=o,p=t(window),f=10,h=c.settings.background,g=c.titleContent();switch(void 0!==g&&""!==g&&(h=c.settings.titleBackground),d.parent().outerWidth()>p.outerWidth()&&(p=d.parent()),c.settings.position){case"top-right":i=d.offset().left+d.outerWidth(),s=d.offset().top-e(l).height-f,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s<p.scrollTop()?(s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({"border-bottom-color":h,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("bottom_right_corner"),l.find(".tipso_title").addClass("bottom_right_corner"),l.find(".tipso_arrow").css({"border-left-color":h}),l.removeClass("top-right top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("top_right_corner"),l.find(".tipso_arrow").css({"border-left-color":c.settings.background}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"top-left":i=d.offset().left-e(l).width,s=d.offset().top-e(l).height-f,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s<p.scrollTop()?(s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({"border-bottom-color":h,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("bottom_left_corner"),l.find(".tipso_title").addClass("bottom_left_corner"),l.find(".tipso_arrow").css({"border-right-color":h}),l.removeClass("top-right top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent ","border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-right-color":c.settings.background}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"bottom-right":i=d.offset().left+d.outerWidth(),s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s+e(l).height>p.scrollTop()+p.outerHeight()?(s=d.offset().top-e(l).height-f,l.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":c.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("top_right_corner"),l.find(".tipso_title").addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-left-color":c.settings.background}),l.removeClass("top-right top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":h,"border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("bottom_right_corner"),l.find(".tipso_title").addClass("bottom_right_corner"),l.find(".tipso_arrow").css({"border-left-color":h}),l.removeClass("top bottom left right"),l.addClass("bottom"));break;case"bottom-left":i=d.offset().left-e(l).width,s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s+e(l).height>p.scrollTop()+p.outerHeight()?(s=d.offset().top-e(l).height-f,l.find(".tipso_arrow").css({"border-bottom-color":"transparent","border-top-color":c.settings.background,"border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("top_left_corner"),l.find(".tipso_title").addClass("top_left_corner"),l.find(".tipso_arrow").css({"border-right-color":c.settings.background}),l.removeClass("top-right top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-top-color":"transparent","border-bottom-color":h,"border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.addClass("bottom_left_corner"),l.find(".tipso_title").addClass("bottom_left_corner"),l.find(".tipso_arrow").css({"border-right-color":h}),l.removeClass("top bottom left right"),l.addClass("bottom"));break;case"top":i=d.offset().left+d.outerWidth()/2-e(l).width/2,s=d.offset().top-e(l).height-f,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s<p.scrollTop()?(s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({"border-bottom-color":h,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("top"));break;case"bottom":i=d.offset().left+d.outerWidth()/2-e(l).width/2,s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s+e(l).height>p.scrollTop()+p.outerHeight()?(s=d.offset().top-e(l).height-f,l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("top")):(l.find(".tipso_arrow").css({"border-bottom-color":h,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position));break;case"left":i=d.offset().left-e(l).width-f,s=d.offset().top+d.outerHeight()/2-e(l).height/2,l.find(".tipso_arrow").css({marginTop:-c.settings.arrowWidth,marginLeft:""}),i<p.scrollLeft()?(i=d.offset().left+d.outerWidth()+f,l.find(".tipso_arrow").css({"border-right-color":c.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("right")):(l.find(".tipso_arrow").css({"border-left-color":c.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position));break;case"right":i=d.offset().left+d.outerWidth()+f,s=d.offset().top+d.outerHeight()/2-e(l).height/2,l.find(".tipso_arrow").css({marginTop:-c.settings.arrowWidth,marginLeft:""}),i+f+c.settings.width>p.scrollLeft()+p.outerWidth()?(i=d.offset().left-e(l).width-f,l.find(".tipso_arrow").css({"border-left-color":c.settings.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass("left")):(l.find(".tipso_arrow").css({"border-right-color":c.settings.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),l.removeClass("top bottom left right"),l.addClass(c.settings.position))}if("top-right"===c.settings.position&&l.find(".tipso_arrow").css({"margin-left":-c.settings.width/2}),"top-left"===c.settings.position){var u=l.find(".tipso_arrow").eq(0);u.css({"margin-left":c.settings.width/2-2*c.settings.arrowWidth})}if("bottom-right"===c.settings.position){var u=l.find(".tipso_arrow").eq(0);u.css({"margin-left":-c.settings.width/2,"margin-top":""})}if("bottom-left"===c.settings.position){var u=l.find(".tipso_arrow").eq(0);u.css({"margin-left":c.settings.width/2-2*c.settings.arrowWidth,"margin-top":""})}i<p.scrollLeft()&&("bottom"===c.settings.position||"top"===c.settings.position)&&(l.find(".tipso_arrow").css({marginLeft:i-c.settings.arrowWidth}),i=0),i+c.settings.width>p.outerWidth()&&("bottom"===c.settings.position||"top"===c.settings.position)&&(a=p.outerWidth()-(i+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-a-c.settings.arrowWidth,marginTop:""}),i+=a),i<p.scrollLeft()&&("left"===c.settings.position||"right"===c.settings.position||"top-right"===c.settings.position||"top-left"===c.settings.position||"bottom-right"===c.settings.position||"bottom-left"===c.settings.position)&&(i=d.offset().left+d.outerWidth()/2-e(l).width/2,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s=d.offset().top-e(l).height-f,s<p.scrollTop()?(s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({"border-bottom-color":h,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),r(l),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),l.removeClass("top bottom left right"),r(l),l.addClass("top")),i+c.settings.width>p.outerWidth()&&(a=p.outerWidth()-(i+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-a-c.settings.arrowWidth,marginTop:""}),i+=a),i<p.scrollLeft()&&(l.find(".tipso_arrow").css({marginLeft:i-c.settings.arrowWidth}),i=0)),i+c.settings.width>p.outerWidth()&&("left"===c.settings.position||"right"===c.settings.position||"top-right"===c.settings.position||"top-left"===c.settings.position||"bottom-right"===c.settings.position||"bottom-right"===c.settings.position)&&(i=d.offset().left+d.outerWidth()/2-e(l).width/2,l.find(".tipso_arrow").css({marginLeft:-c.settings.arrowWidth,marginTop:""}),s=d.offset().top-e(l).height-f,s<p.scrollTop()?(s=d.offset().top+d.outerHeight()+f,l.find(".tipso_arrow").css({"border-bottom-color":h,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.removeClass("top bottom left right"),l.addClass("bottom")):(l.find(".tipso_arrow").css({"border-top-color":c.settings.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),r(l),l.removeClass("top bottom left right"),l.addClass("top")),i+c.settings.width>p.outerWidth()&&(a=p.outerWidth()-(i+c.settings.width),l.find(".tipso_arrow").css({marginLeft:-a-c.settings.arrowWidth,marginTop:""}),i+=a),i<p.scrollLeft()&&(l.find(".tipso_arrow").css({marginLeft:i-c.settings.arrowWidth}),i=0)),l.css({left:i+c.settings.offsetX,top:s+c.settings.offsetY}),s<p.scrollTop()&&("right"===c.settings.position||"left"===c.settings.position)&&(d.tipso("update","position","bottom"),n(c)),s+e(l).height>p.scrollTop()+p.outerHeight()&&("right"===c.settings.position||"left"===c.settings.position)&&(d.tipso("update","position","top"),n(c))}var s="tipso",i={speed:400,background:"#55b555",titleBackground:"#333333",color:"#ffffff",titleColor:"#ffffff",titleContent:"",showArrow:!0,position:"top",width:200,maxWidth:"",delay:200,hideDelay:0,animationIn:"",animationOut:"",offsetX:0,offsetY:0,arrowWidth:8,tooltipHover:!1,content:null,ajaxContentUrl:null,ajaxContentBuffer:0,contentElementId:null,useTitle:!1,templateEngineFunc:null,onBeforeShow:null,onShow:null,onHide:null};t.extend(o.prototype,{init:function(){{var t=this,o=this.$element;this.doc}if(o.addClass("tipso_style").removeAttr("title"),t.settings.tooltipHover){var e=null,r=null;o.on("mouseover."+s,function(){clearTimeout(e),clearTimeout(r),r=setTimeout(function(){t.show()},150)}),o.on("mouseout."+s,function(){clearTimeout(e),clearTimeout(r),e=setTimeout(function(){t.hide()},200),t.tooltip().on("mouseover."+s,function(){t.mode="tooltipHover"}).on("mouseout."+s,function(){t.mode="show",clearTimeout(e),e=setTimeout(function(){t.hide()},200)})})}else o.on("mouseover."+s,function(){t.show()}),o.on("mouseout."+s,function(){t.hide()});t.settings.ajaxContentUrl&&(t.ajaxContent=null)},tooltip:function(){return this.tipso_bubble||(this.tipso_bubble=t('<div class="tipso_bubble"><div class="tipso_title"></div><div class="tipso_content"></div><div class="tipso_arrow"></div></div>')),this.tipso_bubble},show:function(){var o=this.tooltip(),e=this,r=this.win;e.settings.showArrow===!1?o.find(".tipso_arrow").hide():o.find(".tipso_arrow").show(),"hide"===e.mode&&(t.isFunction(e.settings.onBeforeShow)&&e.settings.onBeforeShow(e.$element,e.element,e),e.settings.size&&o.addClass(e.settings.size),e.settings.width?o.css({background:e.settings.background,color:e.settings.color,width:e.settings.width}).hide():e.settings.maxWidth?o.css({background:e.settings.background,color:e.settings.color,maxWidth:e.settings.maxWidth}).hide():o.css({background:e.settings.background,color:e.settings.color,width:200}).hide(),o.find(".tipso_title").css({background:e.settings.titleBackground,color:e.settings.titleColor}),o.find(".tipso_content").html(e.content()),o.find(".tipso_title").html(e.titleContent()),n(e),r.on("resize."+s,function(){e.settings.position=e.settings.preferedPosition,n(e)}),window.clearTimeout(e.timeout),e.timeout=null,e.timeout=window.setTimeout(function(){e.ieFade||""===e.settings.animationIn||""===e.settings.animationOut?o.appendTo("body").stop(!0,!0).fadeIn(e.settings.speed,function(){e.mode="show",t.isFunction(e.settings.onShow)&&e.settings.onShow(e.$element,e.element,e)}):o.remove().appendTo("body").stop(!0,!0).removeClass("animated "+e.settings.animationOut).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+e.settings.animationIn).fadeIn(e.settings.speed,function(){t(this).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+e.settings.animationIn)}),e.mode="show",t.isFunction(e.settings.onShow)&&e.settings.onShow(e.$element,e.element,e),r.off("resize."+s,null,"tipsoResizeHandler")})},e.settings.delay))},hide:function(o){var e=this,r=this.win,n=this.tooltip(),i=e.settings.hideDelay;o&&(i=0,e.mode="show"),window.clearTimeout(e.timeout),e.timeout=null,e.timeout=window.setTimeout(function(){"tooltipHover"!==e.mode&&(e.ieFade||""===e.settings.animationIn||""===e.settings.animationOut?n.stop(!0,!0).fadeOut(e.settings.speed,function(){t(this).remove(),t.isFunction(e.settings.onHide)&&"show"===e.mode&&e.settings.onHide(e.$element,e.element,e),e.mode="hide",r.off("resize."+s,null,"tipsoResizeHandler")}):n.stop(!0,!0).removeClass("animated "+e.settings.animationIn).addClass("noAnimation").removeClass("noAnimation").addClass("animated "+e.settings.animationOut).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+e.settings.animationOut).remove(),t.isFunction(e.settings.onHide)&&"show"===e.mode&&e.settings.onHide(e.$element,e.element,e),e.mode="hide",r.off("resize."+s,null,"tipsoResizeHandler")}))},i)},close:function(){this.hide(!0)},destroy:function(){{var t=this.$element,o=this.win;this.doc}t.off("."+s),o.off("resize."+s,null,"tipsoResizeHandler"),t.removeData(s),t.removeClass("tipso_style").attr("title",this._title)},titleContent:function(){var t,o=this.$element,e=this;return t=e.settings.titleContent?e.settings.titleContent:o.data("tipso-title")},content:function(){var o,e=this.$element,r=this,n=this._title;return r.settings.ajaxContentUrl?r._ajaxContent?o=r._ajaxContent:(r._ajaxContent=o=t.ajax({type:"GET",url:r.settings.ajaxContentUrl,async:!1}).responseText,r.settings.ajaxContentBuffer>0?setTimeout(function(){r._ajaxContent=null},r.settings.ajaxContentBuffer):r._ajaxContent=null):r.settings.contentElementId?o=t("#"+r.settings.contentElementId).text():r.settings.content?o=r.settings.content:r.settings.useTitle===!0?o=n:"string"==typeof e.data("tipso")&&(o=e.data("tipso")),null!==r.settings.templateEngineFunc&&(o=r.settings.templateEngineFunc(o)),o},update:function(t,o){var e=this;return o?void(e.settings[t]=o):e.settings[t]}});var a=function(){var t=document.createElement("p").style,o=["ms","O","Moz","Webkit"];if(""===t.transition)return!0;for(;o.length;)if(o.pop()+"Transition"in t)return!0;return!1}();t[s]=t.fn[s]=function(e){var r=arguments;if(void 0===e||"object"==typeof e)return this instanceof t||t.extend(i,e),this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new o(this,e))});if("string"==typeof e&&"_"!==e[0]&&"init"!==e){var n;return this.each(function(){var i=t.data(this,"plugin_"+s);i||(i=t.data(this,"plugin_"+s,new o(this,e))),i instanceof o&&"function"==typeof i[e]&&(n=i[e].apply(i,Array.prototype.slice.call(r,1))),"destroy"===e&&t.data(this,"plugin_"+s,null)}),void 0!==n?n:this}}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery||Zepto)}(function(t){var o=function(o,e,r){var n={invalid:[],getCaret:function(){try{var t,e=0,r=o.get(0),s=document.selection,i=r.selectionStart;return s&&-1===navigator.appVersion.indexOf("MSIE 10")?(t=s.createRange(),t.moveStart("character",-n.val().length),e=t.text.length):(i||"0"===i)&&(e=i),e}catch(a){}},setCaret:function(t){try{if(o.is(":focus")){var e;e=o.get(0).createTextRange(),e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}catch(r){}},events:function(){o.on("keydown.mask",function(t){o.data("mask-keycode",t.keyCode||t.which)}).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",n.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){o.keydown().keyup()},100)}).on("change.mask",function(){o.data("changed",!0)}).on("blur.mask",function(){a===n.val()||o.data("changed")||o.trigger("change"),o.data("changed",!1)}).on("blur.mask",function(){a=n.val()}).on("focus.mask",function(o){!0===r.selectOnFocus&&t(o.target).select()}).on("focusout.mask",function(){r.clearIfNotMatch&&!s.test(n.val())&&n.val("")})},getRegexMask:function(){for(var t,o,r,n,s=[],a=0;a<e.length;a++)(t=i.translation[e.charAt(a)])?(o=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),r=t.optional,(t=t.recursive)?(s.push(e.charAt(a)),n={digit:e.charAt(a),pattern:o}):s.push(r||t?o+"?":o)):s.push(e.charAt(a).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=s.join(""),n&&(s=s.replace(new RegExp("("+n.digit+"(.*"+n.digit+")?)"),"($1)?").replace(new RegExp(n.digit,"g"),n.pattern)),new RegExp(s)},destroyEvents:function(){o.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(t){var e=o.is("input")?"val":"text";return 0<arguments.length?(o[e]()!==t&&o[e](t),e=o):e=o[e](),e},getMCharsBeforeCount:function(t,o){for(var r=0,n=0,s=e.length;s>n&&t>n;n++)i.translation[e.charAt(n)]||(t=o?t+1:t,r++);return r},caretPos:function(t,o,r,s){return i.translation[e.charAt(Math.min(t-1,e.length-1))]?Math.min(t+r-o-s,r):n.caretPos(t+1,o,r,s)},behaviour:function(e){e=e||window.event,n.invalid=[];var r=o.data("mask-keycode");if(-1===t.inArray(r,i.byPassKeys)){var s=n.getCaret(),a=n.val().length,l=n.getMasked(),d=l.length,c=n.getMCharsBeforeCount(d-1)-n.getMCharsBeforeCount(a-1),p=a>s;return n.val(l),p&&(8!==r&&46!==r&&(s=n.caretPos(s,a,d,c)),n.setCaret(s)),n.callbacks(e)}},getMasked:function(t){var o,s,a=[],l=n.val(),d=0,c=e.length,p=0,f=l.length,h=1,g="push",u=-1;for(r.reverse?(g="unshift",h=-1,o=0,d=c-1,p=f-1,s=function(){return d>-1&&p>-1}):(o=c-1,s=function(){return c>d&&f>p});s();){var m=e.charAt(d),b=l.charAt(p),v=i.translation[m];v?(b.match(v.pattern)?(a[g](b),v.recursive&&(-1===u?u=d:d===o&&(d=u-h),o===u&&(d-=h)),d+=h):v.optional?(d+=h,p-=h):v.fallback?(a[g](v.fallback),d+=h,p-=h):n.invalid.push({p:p,v:b,e:v.pattern}),p+=h):(t||a[g](m),b===m&&(p+=h),d+=h)}return t=e.charAt(o),c!==f+1||i.translation[t]||a.push(t),a.join("")},callbacks:function(t){var s=n.val(),i=s!==a,l=[s,t,o,r],d=function(t,o,e){"function"==typeof r[t]&&o&&r[t].apply(this,e)};d("onChange",!0===i,l),d("onKeyPress",!0===i,l),d("onComplete",s.length===e.length,l),d("onInvalid",0<n.invalid.length,[s,t,o,n.invalid,r])}};o=t(o);var s,i=this,a=n.val();e="function"==typeof e?e(n.val(),void 0,o,r):e,i.mask=e,i.options=r,i.remove=function(){var t=n.getCaret();return n.destroyEvents(),n.val(i.getCleanVal()),n.setCaret(t-n.getMCharsBeforeCount(t)),o},i.getCleanVal=function(){return n.getMasked(!0)},i.init=function(e){e=e||!1,r=r||{},i.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch,i.byPassKeys=t.jMaskGlobals.byPassKeys,i.translation=t.extend({},t.jMaskGlobals.translation,r.translation),i=t.extend(!0,{},i,r),s=n.getRegexMask(),!1===e?(r.placeholder&&o.attr("placeholder",r.placeholder),o.data("mask")&&o.attr("autocomplete","off"),n.destroyEvents(),n.events(),e=n.getCaret(),n.val(n.getMasked()),n.setCaret(e+n.getMCharsBeforeCount(e,!0))):(n.events(),n.val(n.getMasked()))},i.init(!o.is("input"))};t.maskWatchers={};var e=function(){var e=t(this),n={},s=e.attr("data-mask");return e.attr("data-mask-reverse")&&(n.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(n.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(n.selectOnFocus=!0),r(e,s,n)?e.data("mask",new o(this,s,n)):void 0},r=function(o,e,r){r=r||{};var n=t(o).data("mask"),s=JSON.stringify;o=t(o).val()||t(o).text();try{return"function"==typeof e&&(e=e(o)),"object"!=typeof n||s(n.options)!==s(r)||n.mask!==e}catch(i){}};t.fn.mask=function(e,n){n=n||{};var s=this.selector,i=t.jMaskGlobals,a=t.jMaskGlobals.watchInterval,l=function(){return r(this,e,n)?t(this).data("mask",new o(this,e,n)):void 0};return t(this).each(l),s&&""!==s&&i.watchInputs&&(clearInterval(t.maskWatchers[s]),t.maskWatchers[s]=setInterval(function(){t(document).find(s).each(l)},a)),this},t.fn.unmask=function(){return clearInterval(t.maskWatchers[this.selector]),delete t.maskWatchers[this.selector],this.each(function(){var o=t(this).data("mask");o&&o.remove().removeData("mask")})},t.fn.cleanVal=function(){return this.data("mask").getCleanVal()},t.applyDataMask=function(o){o=o||t.jMaskGlobals.maskElements,(o instanceof t?o:t(o)).filter(t.jMaskGlobals.dataMaskAttr).each(e)};var n={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:function(t){var o=document.createElement("div");t="on"+t;var e=t in o;return e||(o.setAttribute(t,"return;"),e="function"==typeof o[t]),e}("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{},n=t.jMaskGlobals=t.extend(!0,{},n,t.jMaskGlobals),n.dataMask&&t.applyDataMask(),setInterval(function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()},n.watchInterval)});