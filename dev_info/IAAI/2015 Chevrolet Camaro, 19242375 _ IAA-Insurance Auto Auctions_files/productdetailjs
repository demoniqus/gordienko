function PublishCurrentAuctionStatus(){auctionBranchListVM.SelectedItemAuctionstatus=ko.computed(function(){return auctionBranchListVM.SelectedItem().CurrentAuctionStatus()})}function countdownTimer(){var n=auctionBranchListVM.BranchList(),i=!1,t=get_cookie("IAAITimeZoneMapCookie");auctionBranchListVM==null&&clearInterval(countdowntimerID),$.ajax({type:"POST",url:appRootDir+"Auctions/CurrentAuctionStatus.aspx/UpdateStatus",data:'{"CookieValue":"'+t+'" , "ByBranch":"'+i+'"}',contentType:"application/json; charset=utf-8",dataType:"json",global:!1,error:function(){},success:function(t){var f=varPageNumber,u=t.d,i,r;if(n.length>0)for(i=0;i<n.length;i++)r="",$.each(u,function(t,u){var s="",f,b,e,l,c,a,p,w=u.RemainingTime,o=u.TimeRemainingToStartAuction,k=u.AuctionLiveDate.replace(/\/Date\((-?\d+)\)\//,"$1"),v,d,y,h;if(n[i].BranchCode()==u.BranchCode&&n[i].AuctionDateInJSON()==k){auctionBranchListVM.BranchList()[i].StartInTextVisibility(!1),!isNaN(o)&&o>0&&w==0&&(auctionBranchListVM.BranchList()[i].StartInTextVisibility(!0),r=Counter(o),auctionBranchListVM.BranchList()[i].PrebidRemainingTime(r)),r=null,auctionBranchListVM.BranchList()[i].CurrentAuctionStatus(u.AuctionStatus),v=ko.mapping.toJS(data.LiveDate),d={pageNumber:varPageNumber,pageSize:varPageSize,branchcode:data.BranchCode(),livedate:v.substring(0,v.indexOf("T")),whocanbuy:auctionFilterVM.WhoCanBuySelected(),sortfield:saleListSortBy,sortascending:saleListSortAsc,groupid:saleListGroupId,grouptypeid:saleListGroupTypeId,groupname:saleListGroupName};switch(u.AuctionStatus){case 1:if(auctionBranchListVM.BranchList()[i].IbidIconVisibility(!0),auctionBranchListVM.SelectedItem().BranchCode()==u.BranchCode&&(auctionBranchListVM.SelectedItem().CurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemCurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemIbidLiveIconVisibility(!0)),u.VehiclesRemaining>=0)if(f=u.BranchLaneData.toString().split(";"),auctionBranchListVM.BranchList()[i].BranchLaneCount(f.length),f.length<3)f=u.BranchLaneData.toString().split("-"),l=f[0].split(":")[1],e=f[1].toString().replace(";",""),auctionBranchListVM.BranchList()[i].ItemRemaining(l),auctionBranchListVM.BranchList()[i].CurrentItem(e);else for(y=u.BranchLaneData.toString().length,u.BranchLaneData.toString().charAt(y-1)==";"&&(f=u.BranchLaneData.toString().slice(0,y-1)),f=f.split(";"),h=f.length-1;h>=0;h--)c=f[h].toString().split(":"),p=c[1].toString(),b=p.indexOf("C"),a=p.split("-"),l=a[0],e=a[1].toString().replace(";",""),b!=-1?(s=s+"</br>"+laneText+" "+c[0].toUpperCase()+" ("+completeText+")",auctionBranchListVM.BranchList()[i].ItemRemainingForLane(s)):e!=""&&e>0&&(s=s+"</br>"+laneText+" "+c[0].toUpperCase()+" - "+itemHashText+e+" ("+l+" "+remainingText+")",auctionBranchListVM.BranchList()[i].ItemRemainingForLane(s));break;case 2:!isNaN(o)&&o>0&&(r=Counter(o),auctionBranchListVM.BranchList()[i].PrebidRemainingTime(r)),auctionBranchListVM.BranchList()[i].IbidIconVisibility(!0),auctionBranchListVM.SelectedItem().BranchCode()==u.BranchCode&&(auctionBranchListVM.SelectedItem().CurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemCurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemIbidLiveIconVisibility(!0));break;case 3:countDownVal=w,!isNaN(countDownVal)&&countDownVal>0?(r=Counter(countDownVal),auctionBranchListVM.BranchList()[i].PrebidRemainingTime(r)):(auctionBranchListVM.BranchList()[i](n.IbidIconVisibility(!0)),auctionBranchListVM.SelectedItem().BranchCode()==u.BranchCode&&(auctionBranchListVM.SelectedItem().CurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemCurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemIbidLiveIconVisibility(!0)));break;case 4:auctionBranchListVM.BranchList()[i].IbidIconVisibility(!1),auctionBranchListVM.BranchList()[i].PrebidRemainingTime(auctionCompleteText),auctionBranchListVM.SelectedItem().BranchCode()==u.BranchCode&&(auctionBranchListVM.SelectedItem().CurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemCurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemIbidLiveIconVisibility(!1));break;default:countDownVal=w,!isNaN(countDownVal)&&countDownVal>0?(r=Counter(countDownVal),auctionBranchListVM.BranchList()[i].PrebidRemainingTime(r)):(auctionBranchListVM.BranchList()[i].IbidIconVisibility(!0),auctionBranchListVM.SelectedItem().BranchCode()==u.BranchCode&&(auctionBranchListVM.SelectedItem().CurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemCurrentAuctionStatus(u.AuctionStatus),saleListVM.BranchListVMSelectedItemIbidLiveIconVisibility(!0)))}return!1}})}})}function PreBidClosecountdownTimerFutureAuction(){var r=0,n,t,i;for(auctionBranchListVM.BranchList().length==0&&clearInterval(countdowntimerID),saleListVM.BranchListVMSelectedItemCurrentAuctionStatus(0),n=0;n<auctionBranchListVM.BranchList().length;n++)t="",auctionBranchListVM.BranchList()[n].HiddenPrebidRemainingTimeForFutureAuction()>0&&(i=auctionBranchListVM.BranchList()[n].HiddenPrebidRemainingTimeForFutureAuction(),i!=null&&(hiddenBidClosedcountDownVal=i,!isNaN(hiddenBidClosedcountDownVal)&&hiddenBidClosedcountDownVal>0?(t=Counter(hiddenBidClosedcountDownVal),auctionBranchListVM.BranchList()[n].PrebidRemainingTime(t),hiddenBidClosedcountDownVal=hiddenBidClosedcountDownVal-60,auctionBranchListVM.BranchList()[n].HiddenPrebidRemainingTimeForFutureAuction(hiddenBidClosedcountDownVal)):(auctionBranchListVM.BranchList()[n].PrebidRemainingTime("Closed"),r++,auctionBranchListVM.BranchList.length==r&&clearInterval(PreBidClosetimerID))))}function Counter(n){var t,r,u,f,i="";return t=Math.floor(n/86400),r=Math.floor(n/3600)-t*24,u=Math.floor(n/60)-t*1440-r*60,f=Math.floor(n)-t*86400-r*3600-u*60,t>0&&(i=t+"d "),r>0&&t<8&&(i=i+r+"h "),u>0&&t<1&&(i=i+u+"m "),t==0&&r==0&&u<1&&(i=i+f+"s "),i}function BranchClicked(n){var t={code:n};$.ajax({url:appRootDir+"locations/BranchInfo",data:t,datatype:"html",error:function(n){n.readyState!=0&&n.status!=0&&ShowErrorPopup("AC_ACTION",function(n,t){n&&$.ajax(t)},this)},success:function(n){$("#BranchDetailsPopupWindow .whiteContent .popContent").empty().html(n),ShowBranchDetailsPopup("BranchDetailsPopupWindow","fadeModalPopUp"),$("body").css({"overflow-y":"hidden"})}})}function CloseBranchDetails(){document.getElementById("fadeModalPopUp").style.display="none",document.getElementById("BranchDetailsPopupWindow").style.display="none",$("body").css({"overflow-y":"auto"})}function ShowBranchDetailsPopup(n,t){document.getElementById(t).style.display="block",document.getElementById(n).style.display="block";var r=$(window).height(),i=$(window).width();return $("#BranchModalPopup").css("top",r/2-$("#BranchModalPopup").height()/2),$("#BranchModalPopup").css("left",i/2-$("#BranchModalPopup").width()/2),!1}function Scroller(n,t,i){var r=this,n=n||{};return r.prevQueue=[],r.url=n.url||"/",r.pageSize=n.pageSize||100,r.pageNumber=n.pageNumber||0,r.Mode=n.mode||ScrollMode.BIDIR,r.pendingRequest=!1,r.end=!1,r.startIndex=function(){return(r.pageNumber-1)*r.pageSize+1},r.endIndex=function(){return r.pageNumber*r.pageSize},r.fetchData=function(n,i,u){if(r.url!="/"){arr=n(),r.prevQueue=arr.slice(),r.pageNumber++;var f=r.params;f!=null&&(f.pageNumber=r.pageNumber,f.pageSize=r.pageSize,varPageNumber=r.pageNumber,varPageSize=r.pageSize),$.ajax({type:"GET",url:r.url,data:f,error:function(n){n.readyState!=0&&n.status!=0&&ShowErrorPopup("AC_LOAD",function(n,t){n&&$.ajax(t)},this)},success:function(f){var s=0,e=0,o=!1;arr=[],ko.utils.arrayForEach(f,function(n){arr.push(n),r.Mode!==ScrollMode.UNIDIR&&(o=!0),e++}),r.initLoad&&(t(f),r.initLoad=!1),i(r.prevQueue),n(arr),r.end=e==0||e>0&&r.pageNumber*r.pageSize>=f[0].VehicleCount?!0:!1,o&&u&&u({pageNumber:r.pageNumber})},complete:function(){setTimeout(function(){r.pendingRequest=!1},250)},dataType:"json"})}},r.fetchDataUp=function(n,t,u){var e=r.prevQueue.slice(),f;r.prevQueue=[],r.pageNumber--,f=r.params,f!=null&&(f.pageNumber=r.pageNumber-1,f.pageSize=r.pageSize,varPageNumber=r.pageNumber-1,varPageSize=r.pageSize),$.ajax({type:"GET",url:r.url,data:f,error:function(n){n.readyState!=0&&n.status!=0&&ShowErrorPopup("AC_LOAD",function(n,t){n&&$.ajax(t)},this)},success:function(f){var s=0,o=!1;ko.utils.arrayForEach(f,function(n){r.prevQueue.push(n),s<f.length&&(o=!0),s++}),i(f),t(r.prevQueue),n(e),o&&u&&u({pageNumber:r.pageNumber}),r.end=!1},complete:function(){setTimeout(function(){r.pendingRequest=!1},250)},dataType:"json"})},r.loadData=function(n,t,i,u){r.pendingRequest||r.pageNumber<2&&n===ScrollDirection.UP||r.end&&n===ScrollDirection.DOWN||(r.Mode!==ScrollMode.UNIDIR||n!==ScrollDirection.UP)&&(r.pendingRequest=!0,n===ScrollDirection.UP?r.fetchDataUp(t,i,u):r.fetchData(t,i,u))},r.reset=function(n,t){n([]),t([]),r.url="/",r.pageNumber=0,varPageNumber=0,r.pendingRequest=!1,r.begin=!0,r.end=!1},{init:function(n,t,i,u){r.reset(i,u),r.url=n,r.params=t,r.initLoad=!0,r.loadData(ScrollDirection.DOWN,i,u)},scrolled:throttle(function(n,t){onTargetScrolled(n,t,r)},100)}}function throttle(n,t){var i=null;return function(){var u=this,r=arguments;clearTimeout(i),i=setTimeout(function(){n.apply(u,r)},t)}}function onTargetScrolled(n,t,i){var e=i.Mode,f=t.target,r=$(f),o,u;i.pageNumber>2&&e===ScrollMode.BIDIR&&f.scrollTop<=25&&i.loadData(ScrollDirection.UP,n.items,n.prevItems,function(n){n.pageNumber=n.pageNumber||0,setTimeout(function(){r.animate({scrollTop:scrollTopPrevDict[i.pageNumber]},"slow")},50)}),!i.end&&f.scrollTop+r.innerHeight()>=f.scrollHeight-25&&(o=getCurrentTotalHeight(r),u=0,u=i.pageNumber>1?o/2-r.innerHeight()/2:o-r.innerHeight()/2+100,setScrollTopPrev(u,i.pageNumber),i.loadData(ScrollDirection.DOWN,n.items,n.prevItems,function(n){n.pageNumber=n.pageNumber||0,e===ScrollMode.BIDIR&&setTimeout(function(){r.animate({scrollTop:u},"slow")},50)}),e!==ScrollMode.BIDIR&&r.animate({scrollTop:r.scollTop()},"slow"))}function getCurrentTotalHeight(n){var r=n.children(),t=0,i=0;return r.each(function(){t+=$(this).outerHeight(),i++}),t}function setScrollTopPrev(n,t){scrollTopPrevDict[t]=n}function ReloadLazyLoadImages(){lazyLoadModule.lazyLoadImages()}var auctionBranchListVM={InitLoad:ko.observable(!0),SelectedAuctionDay:ko.observable(),SelectedAuctionWeekDay:ko.observable(),SelectedAuctionMonth:ko.observable(),NumberOfAuctions:ko.observable(),UserTimeZoneAbbr:ko.observable(),BranchList:ko.observableArray([]),SelectedItem:ko.observable(),ToSelectBranchItem:ko.observable(""),SelectedItemAuctionstatus:ko.observable(-1).publishOn("CurrentAuctionStatus"),SelectedItemIbfCloseDateTimeind:ko.observable().publishOn("IbfCloseDateTimeind"),TimeZoneMapId:ko.observable().subscribeTo("TimeZoneMapId"),CurrentItemSelected:ko.observable(!1),Sortbyfield:ko.observable("auctionstart"),SortbyAscending:ko.observable(!0),BranchNameSort:ko.observable(!1),AuctionStartSort:ko.observable(!0),StateSort:ko.observable(!1),AuctionStartTime:function(n){var t=n.slice(n.indexOf("T")+1,n.indexOf("T")+3),i=n.slice(n.indexOf("T")+4,n.indexOf("T")+6);return t<12?(t<10&&(t=t.substring(1,2)),t=="0"&&(t="12"),i==="00")?t+"am":t+":"+i+"am":(t>12&&(t=t-12),i==="00")?t+"pm":t+":"+i+"pm"},DisplayPublicIcon:function(n){return n?"true":"false"},DisplayAnnouncementIcon:function(n){return n?"true":"false"},IbidLiveClick:function(n){launchIBidLive(n.BranchCode())},CurrentAuctionStatus:function(n,t){var f="",u=new Date(n.slice(0,4),n.slice(5,7)-1,n.slice(8,10),n.slice(11,13),n.slice(14,16),n.slice(17,19),0),r=new Date(t.slice(0,4),t.slice(5,7)-1,t.slice(8,10),t.slice(11,13),t.slice(14,16),t.slice(17,19),0),i=new Date;return u<i&&r>i?"iblabouttostart":u>i?"prebidopen":i>r?"auctionstarted":void 0},AuctionMonthDay2:function(n){var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=r[n.slice(5,7)-1],t=parseInt(n.slice(8,10),10);return i+" "+t},TimeRemainingForPrebid:function(n,t){var i="",c=new Date(n.slice(0,4),n.slice(5,7)-1,n.slice(8,10),n.slice(11,13),n.slice(14,16),n.slice(17,19),0),h=new Date(t.slice(0,4),t.slice(5,7)-1,t.slice(8,10),t.slice(11,13),t.slice(14,16),t.slice(17,19),0),e=new Date,r=Math.abs(c.getTime()-e.getTime()),s,u,a;if(r=Math.floor(r/1e3),s=Math.abs(h.getTime()-e.getTime()),s=Math.floor(s/1e3),c<e&&h>e)return u=Math.floor(s/60),a=Math.floor(s)-u*60,u>5&&(i=u+"m "),u<6&&(i=u+"m "+a+"s "),i;if(c>e&&h>e){var f=Math.floor(r/86400),o=Math.floor(r/3600)-f*24,l=Math.floor(r/60)-f*1440-o*60,v=Math.floor(r)-f*86400-o*3600-l*60;return f>0&&(i=f+"d "),o>0&&(i=i+o+"h "),l>0&&(i=i+l+"m "),f==0&&o==0&&(i=i+v+"s "),i}return i},BranchLinkClicked:function(n){GAForNewListingAndDetails("New AC Listing","Auction List Branch Click",n.BranchName());var r=n.BranchCode,i=n.AdjLiveDate;BranchClicked(n.BranchCode())},ShowNoResultMessage:function(){return auctionBranchListVM.NumberOfAuctions()==0},translateKey:function(n){return GetTranslation(auctionListCalendarTranslations,n)},CloseSlider:function(n){closeSlider2(n)},formatCityState:function(n,t){var i="";return n!=null&&n.length>0&&(i=i+n),t!=null&&t.length>0&&(i=i+" ("+t+")"),i}},ScrollDirection,ScrollMode,varPageNumber,varPageSize,scrollTopPrevDict,lazyLoadModule,prmLazyLoadInstance;auctionBranchListVM.SelectedItem.subscribe(function(){saleListGroupOrSortTab=="SORT"?(saleListVM.showGroupsPanel(!1),saleListVM.showSortPanel(!1)):saleListGroupOrSortTab=="GROUP"&&(saleListVM.showGroupsPanel(!0),saleListVM.showSortPanel(!1),saleListVM.ShowHideSortandGroup(!1)),saleListVM.showGroupsPanel()||saleListVM.showSortPanel()||saleListVM.showSortPanel(!0),getGroupsPanel(),saleListVM.showSortPanel()&&initSaleListScroller(),saleListGroupOrSortTab=""}),ko.bindingHandlers.disableClick={init:function(n,t){$(n).click(function(){return t()?!0:!1})}},ScrollDirection={UP:"Up",DOWN:"Down"},ScrollMode={UNIDIR:"UniDir",BIDIR:"BiDir"},scrollTopPrevDict={},window.OpenSeadragon=window.OpenSeadragon||function(n){return new OpenSeadragon.Viewer(n)},function(n){n.version={versionStr:"1.0.0",major:1,minor:0,revision:0};var i={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,t=Object.prototype.hasOwnProperty;n.isFunction=function(t){return"function"===n.type(t)},n.isArray=Array.isArray||function(t){return"array"===n.type(t)},n.isWindow=function(n){return n&&"object"==typeof n&&"setInterval"in n},n.type=function(n){return null===n||void 0===n?String(n):i[r.call(n)]||"object"},n.isPlainObject=function(i){if(!i||"object"!==OpenSeadragon.type(i)||i.nodeType||n.isWindow(i)||i.constructor&&!t.call(i,"constructor")&&!t.call(i.constructor.prototype,"isPrototypeOf"))return!1;var r;for(r in i);return void 0===r||t.call(i,r)},n.isEmptyObject=function(n){for(var t in n)return!1;return!0},n.supportsCanvas=function(){var t=document.createElement("canvas");return!(!n.isFunction(t.getContext)||!t.getContext("2d"))}()}(OpenSeadragon),function(n){function u(n,t){return t&&n!=document.body?document.body:n.offsetParent}var t;n.extend=function(){var u,f,i,t,o,s,n=arguments[0]||{},h=arguments.length,e=!1,r=1;for("boolean"==typeof n&&(e=n,n=arguments[1]||{},r=2),"object"==typeof n||OpenSeadragon.isFunction(n)||(n={}),h===r&&(n=this,--r);h>r;r++)if(u=arguments[r],null!==u||void 0!==u)for(f in u)i=n[f],t=u[f],n!==t&&(e&&t&&(OpenSeadragon.isPlainObject(t)||(o=OpenSeadragon.isArray(t)))?(o?(o=!1,s=i&&OpenSeadragon.isArray(i)?i:[]):s=i&&OpenSeadragon.isPlainObject(i)?i:{},n[f]=OpenSeadragon.extend(e,s,t)):void 0!==t&&(n[f]=t));return n},n.extend(n,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,springStiffness:7,clickTimeThreshold:300,clickDistThreshold:5,zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,animationTime:1.2,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,pixelsPerWheelLine:40,autoResize:!0,showSequenceControl:!0,preserveViewport:!1,showNavigationControl:!0,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorHeight:null,navigatorWidth:null,navigatorPosition:null,navigatorSizeRatio:.2,degrees:0,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},navPrevNextWrap:!1,debugMode:!1,debugGridColor:"#437AB2"},SIGNAL:"----seadragon----",delegate:function(n,t){return function(){var i=arguments;return void 0===i&&(i=[]),t.apply(n,i)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(n){return"string"==typeof n&&(n=document.getElementById(n)),n},getElementPosition:function(t){var r,f,i=new n.Point;for(t=n.getElement(t),r="fixed"==n.getElementStyle(t).position,f=u(t,r);f;)i.x+=t.offsetLeft,i.y+=t.offsetTop,r&&(i=i.plus(n.getPageScroll())),t=f,r="fixed"==n.getElementStyle(t).position,f=u(t,r);return i},getElementOffset:function(t){t=n.getElement(t);var r,f,i=t&&t.ownerDocument,u={top:0,left:0};return i?(r=i.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(u=t.getBoundingClientRect()),f=i==i.window?i:9===i.nodeType?i.defaultView||i.parentWindow:!1,new n.Point(u.left+(f.pageXOffset||r.scrollLeft)-(r.clientLeft||0),u.top+(f.pageYOffset||r.scrollTop)-(r.clientTop||0))):new n.Point},getElementSize:function(t){return t=n.getElement(t),new n.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return t=n.getElement(t),t.currentStyle}:function(t){return t=n.getElement(t),window.getComputedStyle(t,"")},getEvent:function(t){return n.getEvent=t?function(n){return n}:function(){return window.event},n.getEvent(t)},getMousePosition:function(t){if("number"==typeof t.pageX)n.getMousePosition=function(t){var i=new n.Point;return t=n.getEvent(t),i.x=t.pageX,i.y=t.pageY,i};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");n.getMousePosition=function(t){var i=new n.Point;return t=n.getEvent(t),i.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,i}}return n.getMousePosition(t)},getPageScroll:function(){var i=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)n.getPageScroll=function(){return new n.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)n.getPageScroll=function(){return new n.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!i.scrollLeft&&!i.scrollTop)return new n.Point(0,0);n.getPageScroll=function(){return new n.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return n.getPageScroll()},setPageScroll:function(t){var i,r;if("undefined"!=typeof window.scrollTo)n.setPageScroll=function(n){window.scrollTo(n.x,n.y)};else{if(i=n.getPageScroll(),i.x===t.x&&i.y===t.y)return;if(document.body.scrollLeft=t.x,document.body.scrollTop=t.y,r=n.getPageScroll(),r.x!==i.x&&r.y!==i.y)return n.setPageScroll=function(n){document.body.scrollLeft=n.x,document.body.scrollTop=n.y},void 0;if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,r=n.getPageScroll(),r.x!==i.x&&r.y!==i.y)return n.setPageScroll=function(n){document.documentElement.scrollLeft=n.x,document.documentElement.scrollTop=n.y},void 0;n.setPageScroll=function(){}}return n.setPageScroll(t)},getWindowSize:function(){var i=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)n.getWindowSize=function(){return new n.Point(window.innerWidth,window.innerHeight)};else if(i.clientWidth||i.clientHeight)n.getWindowSize=function(){return new n.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");n.getWindowSize=function(){return new n.Point(document.body.clientWidth,document.body.clientHeight)}}return n.getWindowSize()},makeCenteredNode:function(t){t=n.getElement(t);var i=[n.makeNeutralElement("div"),n.makeNeutralElement("div"),n.makeNeutralElement("div")];return n.extend(i[0].style,{display:"table",height:"100%",width:"100%"}),n.extend(i[1].style,{display:"table-row"}),n.extend(i[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),i[0].appendChild(i[1]),i[1].appendChild(i[2]),i[2].appendChild(t),i[0]},makeNeutralElement:function(n){var i=document.createElement(n),t=i.style;return t.background="transparent none",t.border="none",t.margin="0px",t.padding="0px",t.position="static",i},now:function(){return n.now=Date.now?Date.now:function(){return+new Date},n.now()},makeTransparentImage:function(t){return n.makeTransparentImage=function(t){var i=n.makeNeutralElement("img");return i.src=t,i},n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<7&&(n.makeTransparentImage=function(t){var r=n.makeNeutralElement("img"),i=null;return i=n.makeNeutralElement("span"),i.style.display="inline-block",r.onload=function(){i.style.width=i.style.width||r.width+"px",i.style.height=i.style.height||r.height+"px",r.onload=null,r=null},r.src=t,i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')",i}),n.makeTransparentImage(t)},setElementOpacity:function(t,i,r){var f,u;t=n.getElement(t),r&&!n.Browser.alpha&&(i=Math.round(i)),n.Browser.opacity?t.style.opacity=1>i?i:"":1>i?(f=Math.round(100*i),u="alpha(opacity="+f+")",t.style.filter=u):t.style.filter=""},addClass:function(t,i){t=n.getElement(t),t.className?-1===(" "+t.className+" ").indexOf(" "+i+" ")&&(t.className+=" "+i):t.className=i},removeClass:function(t,i){var u,r,f=[];for(t=n.getElement(t),u=t.className.split(/\s+/),r=0;r<u.length;r++)u[r]&&u[r]!==i&&f.push(u[r]);t.className=f.join(" ")},addEvent:function(){if(window.addEventListener)return function(t,i,r,u){t=n.getElement(t),t.addEventListener(i,r,u)};if(window.attachEvent)return function(t,i,r,u){t=n.getElement(t),t.attachEvent("on"+i,r),u&&t.setCapture&&t.setCapture()};throw new Error("No known event model.");}(),removeEvent:function(){if(window.removeEventListener)return function(t,i,r,u){t=n.getElement(t),t.removeEventListener(i,r,u)};if(window.detachEvent)return function(t,i,r,u){t=n.getElement(t),t.detachEvent("on"+i,r),u&&t.releaseCapture&&t.releaseCapture()};throw new Error("No known event model.");}(),cancelEvent:function(t){t=n.getEvent(t),n.cancelEvent=t.preventDefault?function(n){n.preventDefault()}:function(t){t=n.getEvent(t),t.cancel=!0,t.returnValue=!1},n.cancelEvent(t)},stopEvent:function(t){t=n.getEvent(t),n.stopEvent=t.stopPropagation?function(n){n.stopPropagation()}:function(t){t=n.getEvent(t),t.cancelBubble=!0},n.stopEvent(t)},createCallback:function(n,t){for(var r=[],i=2;i<arguments.length;i++)r.push(arguments[i]);return function(){for(var u=r.concat([]),i=0;i<arguments.length;i++)u.push(arguments[i]);return t.apply(n,u)}},getUrlParameter:function(n){var t=r[n];return t?t:null},createAjaxRequest:function(){var r,t;if(window.XMLHttpRequest)n.createAjaxRequest=function(){return new XMLHttpRequest},r=new XMLHttpRequest;else if(window.ActiveXObject)for(t=0;t<i.length;t++)try{r=new ActiveXObject(i[t]),n.createAjaxRequest=function(){return new ActiveXObject(i[t])};break}catch(u){continue}if(!r)throw new Error("Browser doesn't support XMLHttpRequest.");return r},makeAjaxRequest:function(t,i,r){var u=n.createAjaxRequest(),f,e;if(!n.isFunction(i))throw new Error("makeAjaxRequest requires a success callback");u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=function(){},200==u.status?i(u):(n.console.log("AJAX request returned %s: %s",u.status,t),n.isFunction(r)&&r(u)))};try{u.open("GET",t,!0),u.send(null)}catch(o){f=o.message,e=n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<10,e&&"undefined"!=typeof o.number&&-2147024891==o.number&&(f+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),n.console.log("%s while making AJAX request: %s",o.name,f),u.onreadystatechange=function(){},n.isFunction(r)&&r(u,o)}},jsonp:function(t){var i,u=t.url,f=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=t.callbackName||"openseadragon"+n.now(),o=window[r],s="$1"+r+"$2",h=t.param||"callback",e=t.callback;u=u.replace(/(\=)\?(&|$)|\?\?/i,s),u+=(/\?/.test(u)?"&":"?")+h+"="+r,window[r]=function(t){if(o)window[r]=o;else try{delete window[r]}catch(i){}e&&n.isFunction(e)&&e(t)},i=document.createElement("script"),(void 0!==t.async||!1!==t.async)&&(i.async="async"),t.scriptCharset&&(i.charset=t.scriptCharset),i.src=u,i.onload=i.onreadystatechange=function(n,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,f&&i.parentNode&&f.removeChild(i),i=void 0)},f.insertBefore(i,f.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open.";},parseXml:function(t){if(window.ActiveXObject)n.parseXml=function(n){var t=null;return t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(n),t};else{if(!window.DOMParser)throw new Error("Browser doesn't support XML DOM.");n.parseXml=function(n){var t,i=null;return t=new DOMParser,i=t.parseFromString(n,"text/xml")}}return n.parseXml(t)},imageFormatSupported:function(n){return n=n?n:"",!!f[n.toLowerCase()]}}),n.Browser={vendor:n.BROWSERS.UNKNOWN,version:0,alpha:!0};var i=["Msxml2.XMLHTTP","Msxml3.XMLHTTP","Microsoft.XMLHTTP"],f={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},r={};!function(){var s=(navigator.appName,navigator.appVersion),t=navigator.userAgent,u,f,i,o,e;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(n.Browser.vendor=n.BROWSERS.IE,n.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?(n.Browser.vendor=n.BROWSERS.FIREFOX,n.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0&&(n.Browser.vendor=t.indexOf("Chrome")>=0?n.BROWSERS.CHROME:n.BROWSERS.SAFARI,n.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))));break;case"Opera":n.Browser.vendor=n.BROWSERS.OPERA,n.Browser.version=parseFloat(s)}for(o=window.location.search.substring(1),e=o.split("&"),i=0;i<e.length;i++)u=e[i],f=u.indexOf("="),f>0&&(r[u.substring(0,f)]=decodeURIComponent(u.substring(f+1)));n.Browser.alpha=!(n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9||n.Browser.vendor==n.BROWSERS.CHROME&&n.Browser.version<2),n.Browser.opacity=!(n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9)}(),t=function(){},n.console=window.console||{log:t,debug:t,info:t,warn:t,error:t},function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,o=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(e&&o)n.requestAnimationFrame=function(){return e.apply(t,arguments)},n.cancelAnimationFrame=function(){return o.apply(t,arguments)};else{var u,i=[],r=[],f=0;n.requestAnimationFrame=function(t){return i.push([++f,t]),u||(u=setInterval(function(){if(i.length){var f=n.now(),t=r;for(r=i,i=t;r.length;)r.shift()[1](f)}else clearInterval(u),u=void 0},20)),f},n.cancelAnimationFrame=function(n){for(var t=0,u=i.length;u>t;t+=1)if(i[t][0]===n)return i.splice(t,1),void 0;for(t=0,u=r.length;u>t;t+=1)if(r[t][0]===n)return r.splice(t,1),void 0}}}(window),n._processDZIError=function(n){var i=n.getElementsByTagName("Message")[0],t=i.firstChild.nodeValue;throw new Error(t);}}(OpenSeadragon),function(n){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:"",prefix:""},u="webkit moz o ms khtml".split(" "),i,r;if("undefined"!=typeof document.cancelFullScreen)t.supportsFullScreen=!0;else for(i=0,r=u.length;r>i;i++)if(t.prefix=u[i],"undefined"!=typeof document[t.prefix+"CancelFullScreen"]){t.supportsFullScreen=!0;break}t.supportsFullScreen?(t.fullScreenEventName=t.prefix+"fullscreenchange",t.fullScreenErrorEventName=t.prefix+"fullscreenerror",t.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},t.requestFullScreen=function(n){return""===this.prefix?n.requestFullScreen():n[this.prefix+"RequestFullScreen"]()},t.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):"undefined"!=typeof window.ActiveXObject&&(t.requestFullScreen=function(){var n=new ActiveXObject("WScript.Shell");return null!==n&&n.SendKeys("{F11}"),!1},t.cancelFullScreen=t.requestFullScreen),n.extend(n,t)}(OpenSeadragon),function(n){n.EventSource=function(){this.events={}},n.EventSource.prototype={addHandler:function(t,i,r){var u=this.events[t];u||(this.events[t]=u=[]),i&&n.isFunction(i)&&(u[u.length]={handler:i,userData:r||null})},removeHandler:function(t,i){var u,r=this.events[t],f=[];if(r&&n.isArray(r)){for(u=0;u<r.length;u++)r[u].handler!==i&&f.push(r[u]);this.events[t]=f}},removeAllHandlers:function(n){if(n)this.events[n]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(n){var t=this.events[n];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(n,i){for(var u=t.length,r=0;u>r;r++)t[r]&&(i.eventSource=n,i.userData=t[r].userData,t[r].handler(i))}):null},raiseEvent:function(n,t){var i=this.getHandler(n);i&&(t||(t={}),i(this,t))}}}(OpenSeadragon),function(n){function pt(i){var o,r,f=["mouseover","mouseout","mousedown","mouseup","mousemove","click",n.MouseTracker.wheelEventName,"touchstart","touchmove","touchend","keypress","focus","blur"],u=t[i.hash];if("DOMMouseScroll"==n.MouseTracker.wheelEventName&&f.push("MozMousePixelScroll"),!u.tracking){for(r=0;r<f.length;r++)o=f[r],n.addEvent(i.element,o,u[o],!1);u.tracking=!0,e[i.hash]=i}}function w(i){var o,r,f=["mouseover","mouseout","mousedown","mouseup","mousemove","click",n.MouseTracker.wheelEventName,"touchstart","touchmove","touchend","keypress","focus","blur"],u=t[i.hash];if("DOMMouseScroll"==n.MouseTracker.wheelEventName&&f.push("MozMousePixelScroll"),u.tracking){for(r=0;r<f.length;r++)o=f[r],n.removeEvent(i.element,o,u[o],!1);s(i),u.tracking=!1,delete e[i.hash]}}function ot(n){return t[n.hash].insideElement}function st(i){var r=t[i.hash];r.capturing||(n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9?(n.removeEvent(i.element,"mouseup",r.mouseup,!1),n.addEvent(i.element,"mouseup",r.mouseupie,!0),n.addEvent(i.element,"mousemove",r.mousemovecapturedie,!0)):(n.addEvent(window,"mouseup",r.mouseupcaptured,!0),n.addEvent(window,"mousemove",r.mousemovecaptured,!0)),r.capturing=!0)}function s(i){var r=t[i.hash];r.capturing&&(n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9?(n.removeEvent(i.element,"mousemove",r.mousemovecapturedie,!0),n.removeEvent(i.element,"mouseup",r.mouseupie,!0),n.addEvent(i.element,"mouseup",r.mouseup,!1)):(n.removeEvent(window,"mousemove",r.mousemovecaptured,!0),n.removeEvent(window,"mouseup",r.mouseupcaptured,!0)),r.capturing=!1)}function d(n,t,i,r){var u;for(u in e)e.hasOwnProperty(u)&&n.hash!=u&&t(e[u],i,r)}function ht(t,i){var r;t.focusHandler&&(r=t.focusHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),r===!1&&n.cancelEvent(i))}function ut(t,i){var r;t.blurHandler&&(r=t.blurHandler({eventSource:t,originalEvent:i,preventDefaultAction:!1,userData:t.userData}),r===!1&&n.cancelEvent(i))}function ft(t,r){var u;t.keyHandler&&(u=t.keyHandler({eventSource:t,position:i(r,t.element),keyCode:r.keyCode?r.keyCode:r.charCode,shift:r.shiftKey,originalEvent:r,preventDefaultAction:!1,userData:t.userData}),u||n.cancelEvent(r))}function p(r,u,e){var l,s=t[r.hash],c,h;((e=e||!1,u=n.getEvent(u),e)||(n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9&&s.capturing&&!f(u.srcElement,r.element)&&d(r,p,u,e),c=u.target?u.target:u.srcElement,h=u.relatedTarget?u.relatedTarget:u.fromElement,f(r.element,c)&&!f(r.element,h)))&&(s.insideElement=!0,r.enterHandler&&(l=r.enterHandler({eventSource:r,position:i(e?u.changedTouches[0]:u,r.element),insideElementPressed:s.insideElementPressed,buttonDownAny:o,isTouchEvent:e,originalEvent:u,preventDefaultAction:!1,userData:r.userData}),l===!1&&n.cancelEvent(u)))}function y(r,u,e){var l,s=t[r.hash],c,h;((e=e||!1,u=n.getEvent(u),e)||(n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9&&s.capturing&&!f(u.srcElement,r.element)&&d(r,y,u,e),c=u.target?u.target:u.srcElement,h=u.relatedTarget?u.relatedTarget:u.toElement,f(r.element,c)&&!f(r.element,h)))&&(s.insideElement=!1,r.exitHandler&&(l=r.exitHandler({eventSource:r,position:i(e?u.changedTouches[0]:u,r.element),insideElementPressed:s.insideElementPressed,buttonDownAny:o,isTouchEvent:e,originalEvent:u,preventDefaultAction:!1,userData:r.userData}),l===!1&&n.cancelEvent(u)))}function k(f,e,o,s){var l,h=t[f.hash],c;s=s||!1,e=n.getEvent(e),c=s?e.touches[0]:e,2!=e.button&&(h.insideElementPressed=!0,h.lastPoint=r(c),h.lastMouseDownPoint=h.lastPoint,h.lastMouseDownTime=n.now(),f.pressHandler&&(l=f.pressHandler({eventSource:f,position:i(c,f.element),isTouchEvent:s,originalEvent:e,preventDefaultAction:!1,userData:f.userData}),l===!1&&n.cancelEvent(e)),(f.pressHandler||f.dragHandler)&&n.cancelEvent(e),o||(!s&&n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9&&v?n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9&&u.push(f):(st(f),v=!0,u=[f])))}function et(i,u){var e,f;1==u.touches.length&&1==u.targetTouches.length&&1==u.changedTouches.length&&(t[i.hash].lastTouch=u.touches[0],p(i,u,!0),k(i,u,!0,!0)),2==u.touches.length&&(e=r(u.touches[0]),f=r(u.touches[1]),t[i.hash].lastPinchDelta=Math.abs(e.x-f.x)+Math.abs(e.y-f.y),t[i.hash].pinchMidpoint=new n.Point((e.x+f.x)/2,(e.y+f.y)/2)),u.preventDefault()}function l(r,u,f){var h,e=t[r.hash],s=e.insideElementPressed,o=e.insideElement;f=f||!1,u=n.getEvent(u),2!=u.button&&(e.insideElementPressed=!1,r.releaseHandler&&(h=r.releaseHandler({eventSource:r,position:i(f?u.changedTouches[0]:u,r.element),insideElementPressed:s,insideElementReleased:o,isTouchEvent:f,originalEvent:u,preventDefaultAction:!1,userData:r.userData}),h===!1&&n.cancelEvent(u)),s&&o&&vt(r,u,f))}function ct(n,i){0===i.touches.length&&0===i.targetTouches.length&&1==i.changedTouches.length&&(t[n.hash].lastTouch=null,b(n,i,!0,!0),y(n,i,!0)),i.touches.length+i.changedTouches.length==2&&(t[n.hash].lastPinchDelta=null,t[n.hash].pinchMidpoint=null),i.preventDefault()}function yt(t,i){var f,r;if(i=n.getEvent(i),2!=i.button){for(r=0;r<u.length;r++)f=u[r],ot(f)||l(f,i,!1);s(t),v=!1,i.srcElement.fireEvent("on"+i.type,document.createEventObject(i)),n.stopEvent(i)}}function b(n,i,r,u){u=u||!1,(!t[n.hash].insideElement||u)&&l(n,i,u),r||s(n)}function tt(t,r){if(t.moveHandler){r=n.getEvent(r);var u=t.moveHandler({eventSource:t,position:i(r,t.element),isTouchEvent:!1,originalEvent:r,preventDefaultAction:!1,userData:t.userData});u===!1&&n.cancelEvent(r)}t.stopHandler&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){wt(t,r)},t.stopDelay))}function wt(n,t){n.stopHandler&&n.stopHandler({eventSource:n,position:i(t,n.element),isTouchEvent:!1,originalEvent:t,preventDefaultAction:!1,userData:n.userData})}function lt(t,i){t.clickHandler&&n.cancelEvent(i)}function at(n,t){a(n,t,t,!1)}function h(t,i){i=i||window.event;var r={target:i.target||i.srcElement,type:"wheel",shiftKey:i.shiftKey||!1,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX?i.pageX:i.clientX,pageY:i.pageY?i.pageY:i.clientY,deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0};r.deltaY="mousewheel"==n.MouseTracker.wheelEventName?-1/n.DEFAULT_SETTINGS.pixelsPerWheelLine*i.wheelDelta:i.detail,a(t,r,i,!1)}function a(t,r,u,f){var o,e=0;f=f||!1,e=r.deltaY<0?1:-1,t.scrollHandler&&(o=t.scrollHandler({eventSource:t,position:i(r,t.element),scroll:e,shift:r.shiftKey,isTouchEvent:f,originalEvent:u,preventDefaultAction:!1,userData:t.userData}),o===!1&&n.cancelEvent(u))}function vt(u,f,e){var h,s=t[u.hash],o;if(e=e||!1,f=n.getEvent(f),o=e?f.changedTouches[0]:f,2!=f.button){var a=n.now()-s.lastMouseDownTime,v=r(o),c=s.lastMouseDownPoint.distanceTo(v),l=a<=u.clickTimeThreshold&&c<=u.clickDistThreshold;u.clickHandler&&(h=u.clickHandler({eventSource:u,position:i(o,u.element),quick:l,shift:f.shiftKey,isTouchEvent:e,originalEvent:f,preventDefaultAction:!1,userData:u.userData}),h===!1&&n.cancelEvent(f))}}function c(u,f,e){var h,l,o,c=t[u.hash],s;e=e||!1,f=n.getEvent(f),s=e?f.touches[0]:f,o=r(s),h=o.minus(c.lastPoint),c.lastPoint=o,u.dragHandler&&(l=u.dragHandler({eventSource:u,position:i(s,u.element),delta:h,shift:f.shiftKey,isTouchEvent:e,originalEvent:f,preventDefaultAction:!1,userData:u.userData}),l===!1&&n.cancelEvent(f))}function rt(n,i){var e,f,u,o;t[n.hash].lastTouch&&(1===i.touches.length&&1===i.targetTouches.length&&1===i.changedTouches.length&&t[n.hash].lastTouch.identifier===i.touches[0].identifier?c(n,i,!0):2===i.touches.length&&(e=r(i.touches[0]),f=r(i.touches[1]),u=Math.abs(e.x-f.x)+Math.abs(e.y-f.y),Math.abs(t[n.hash].lastPinchDelta-u)>75)&&(o={target:i.target||i.srcElement,type:"wheel",shiftKey:i.shiftKey||!1,clientX:t[n.hash].pinchMidpoint.x,clientY:t[n.hash].pinchMidpoint.y,pageX:t[n.hash].pinchMidpoint.x,pageY:t[n.hash].pinchMidpoint.y,deltaMode:1,deltaX:0,deltaY:t[n.hash].lastPinchDelta>u?1:-1,deltaZ:0},a(n,o,i,!0),t[n.hash].lastPinchDelta=u),i.preventDefault())}function it(t,i){for(var r=0;r<u.length;r++)c(u[r],i,!1);n.stopEvent(i)}function r(t){return n.getMousePosition(t)}function i(t,i){var u=n.getMousePosition(t),r=n.getElementOffset(i);return u.minus(r)}function f(n,t){for(var i=document.body;t&&n!=t&&i!=t;)try{t=t.parentNode}catch(r){return!1}return n==t}function g(){o=!0}function nt(){o=!1}var o=!1,v=!1,e={},u=[],t={};n.MouseTracker=function(i){var u=arguments,r;n.isPlainObject(i)||(i={element:u[0],clickTimeThreshold:u[1],clickDistThreshold:u[2]}),this.hash=Math.random(),this.element=n.getElement(i.element),this.clickTimeThreshold=i.clickTimeThreshold,this.clickDistThreshold=i.clickDistThreshold,this.userData=i.userData||null,this.stopDelay=i.stopDelay||50,this.enterHandler=i.enterHandler||null,this.exitHandler=i.exitHandler||null,this.pressHandler=i.pressHandler||null,this.releaseHandler=i.releaseHandler||null,this.moveHandler=i.moveHandler||null,this.scrollHandler=i.scrollHandler||null,this.clickHandler=i.clickHandler||null,this.dragHandler=i.dragHandler||null,this.stopHandler=i.stopHandler||null,this.keyHandler=i.keyHandler||null,this.focusHandler=i.focusHandler||null,this.blurHandler=i.blurHandler||null,r=this,t[this.hash]={mouseover:function(n){p(r,n,!1)},mouseout:function(n){y(r,n,!1)},mousedown:function(n){k(r,n)},mouseup:function(n){l(r,n,!1)},mousemove:function(n){tt(r,n)},click:function(n){lt(r,n)},wheel:function(n){at(r,n)},mousewheel:function(n){h(r,n)},DOMMouseScroll:function(n){h(r,n)},MozMousePixelScroll:function(n){h(r,n)},mouseupie:function(n){yt(r,n)},mousemovecapturedie:function(n){it(r,n)},mouseupcaptured:function(n){b(r,n)},mousemovecaptured:function(n){c(r,n,!1)},touchstart:function(n){et(r,n)},touchmove:function(n){rt(r,n)},touchend:function(n){ct(r,n)},keypress:function(n){ft(r,n)},focus:function(n){ht(r,n)},blur:function(n){ut(r,n)},tracking:!1,capturing:!1,insideElementPressed:!1,insideElement:!1,lastPoint:null,lastMouseDownTime:null,lastMouseDownPoint:null,lastPinchDelta:0}},n.MouseTracker.prototype={destroy:function(){w(this),this.element=null},isTracking:function(){return t[this.hash].tracking},setTracking:function(n){return n?pt(this):w(this),this},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},releaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dragHandler:function(){},stopHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},n.MouseTracker.wheelEventName=n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",function(){n.Browser.vendor==n.BROWSERS.IE&&n.Browser.version<9?(n.addEvent(document,"mousedown",g,!1),n.addEvent(document,"mouseup",nt,!1)):(n.addEvent(window,"mousedown",g,!0),n.addEvent(window,"mouseup",nt,!0))}()}(OpenSeadragon),function(n){n.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4},n.Control=function(t,i,r){var u=t.parentNode;"number"==typeof i&&(n.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),i={anchor:i}),i.attachToViewer="undefined"==typeof i.attachToViewer?!0:i.attachToViewer,this.autoFade="undefined"==typeof i.autoFade?!0:i.autoFade,this.element=t,this.anchor=i.anchor,this.container=r,this.wrapper=n.makeNeutralElement("span"),this.wrapper.style.display="inline-block",this.wrapper.appendChild(this.element),this.anchor==n.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%"),i.attachToViewer?this.anchor==n.ControlAnchor.TOP_RIGHT||this.anchor==n.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):u.appendChild(this.wrapper)},n.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(n){this.wrapper.style.display=n?"inline-block":"none"},setOpacity:function(t){this.element[n.SIGNAL]&&n.Browser.vendor==n.BROWSERS.IE?n.setElementOpacity(this.element,t,!0):n.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(n){function t(n,t){for(var r=n.controls,i=r.length-1;i>=0;i--)if(r[i].element==t)return i;return-1}n.ControlDock=function(t){var i,r,u=["topleft","topright","bottomright","bottomleft"];for(n.extend(!0,this,{id:"controldock-"+n.now()+"-"+Math.floor(1e6*Math.random()),container:n.makeNeutralElement("form"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=n.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),r=0;r<u.length;r++)i=u[r],this.controls[i]=n.makeNeutralElement("div"),this.controls[i].style.position="absolute",i.match("left")&&(this.controls[i].style.left="0px"),i.match("right")&&(this.controls[i].style.right="0px"),i.match("top")&&(this.controls[i].style.top="0px"),i.match("bottom")&&(this.controls[i].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},n.ControlDock.prototype={addControl:function(i,r){i=n.getElement(i);var u=null;if(!(t(this,i)>=0)){switch(r.anchor){case n.ControlAnchor.TOP_RIGHT:u=this.controls.topright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingTop="0px";break;case n.ControlAnchor.BOTTOM_RIGHT:u=this.controls.bottomright,i.style.position="relative",i.style.paddingRight="0px",i.style.paddingBottom="0px";break;case n.ControlAnchor.BOTTOM_LEFT:u=this.controls.bottomleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingBottom="0px";break;case n.ControlAnchor.TOP_LEFT:u=this.controls.topleft,i.style.position="relative",i.style.paddingLeft="0px",i.style.paddingTop="0px";break;default:case n.ControlAnchor.NONE:u=this.container,i.style.margin="0px",i.style.padding="0px"}this.controls.push(new n.Control(i,r,u)),i.style.display="inline-block"}},removeControl:function(i){i=n.getElement(i);var r=t(this,i);return r>=0&&(this.controls[r].destroy(),this.controls.splice(r,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){for(var n=this.controls.length-1;n>=0;n--)if(this.controls[n].isVisible())return!0;return!1},setControlsEnabled:function(n){for(var t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(n);return this}}}(OpenSeadragon),function(n){function l(t){return t=n.getElement(t),new n.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function u(i,r){var f,e,u=i;for(u.source&&u.close(),u.canvas.innerHTML="",t[u.hash].prevContainerSize=l(u.container),u.collectionMode?(u.source=new n.TileSourceCollection({rows:u.collectionRows,layout:u.collectionLayout,tileSize:u.collectionTileSize,tileSources:u.tileSources,tileMargin:u.collectionTileMargin}),u.viewport=u.viewport?u.viewport:new n.Viewport({collectionMode:!0,collectionTileSource:u.source,containerSize:t[u.hash].prevContainerSize,contentSize:u.source.dimensions,springStiffness:u.springStiffness,animationTime:u.animationTime,showNavigator:!1,minZoomImageRatio:1,maxZoomPixelRatio:1,viewer:u})):(r&&(u.source=r),u.viewport=u.viewport?u.viewport:new n.Viewport({containerSize:t[u.hash].prevContainerSize,contentSize:u.source.dimensions,springStiffness:u.springStiffness,animationTime:u.animationTime,minZoomImageRatio:u.minZoomImageRatio,maxZoomPixelRatio:u.maxZoomPixelRatio,visibilityRatio:u.visibilityRatio,wrapHorizontal:u.wrapHorizontal,wrapVertical:u.wrapVertical,defaultZoomLevel:u.defaultZoomLevel,minZoomLevel:u.minZoomLevel,maxZoomLevel:u.maxZoomLevel,viewer:u})),u.preserveViewport&&u.viewport.resetContentSize(u.source.dimensions),u.source.overlays=u.source.overlays||[],u.drawer=new n.Drawer({viewer:u,source:u.source,viewport:u.viewport,element:u.canvas,overlays:[].concat(u.overlays).concat(u.source.overlays),maxImageCacheCount:u.maxImageCacheCount,imageLoaderLimit:u.imageLoaderLimit,minZoomImageRatio:u.minZoomImageRatio,wrapHorizontal:u.wrapHorizontal,wrapVertical:u.wrapVertical,immediateRender:u.immediateRender,blendTime:u.blendTime,alwaysBlend:u.alwaysBlend,minPixelRatio:u.collectionMode?0:u.minPixelRatio,timeout:u.timeout,debugMode:u.debugMode,debugGridColor:u.debugGridColor}),u.showNavigator&&!u.collectionMode&&(u.navigator?u.navigator.open(r):u.navigator=new n.Navigator({id:u.navigatorId,position:u.navigatorPosition,sizeRatio:u.navigatorSizeRatio,height:u.navigatorHeight,width:u.navigatorWidth,tileSources:r,tileHost:u.tileHost,prefixUrl:u.prefixUrl,overlays:u.overlays,viewer:u})),u.showReferenceStrip&&!u.referenceStrip&&(u.referenceStrip=new n.ReferenceStrip({id:u.referenceStripElement,position:u.referenceStripPosition,sizeRatio:u.referenceStripSizeRatio,scroll:u.referenceStripScroll,height:u.referenceStripHeight,width:u.referenceStripWidth,tileSources:u.tileSources,tileHost:u.tileHost,prefixUrl:u.prefixUrl,overlays:u.overlays,viewer:u})),t[u.hash].animating=!1,t[u.hash].forceRedraw=!0,u._updateRequestId=a(u,v),e=0;e<u.overlayControls.length;e++)f=u.overlayControls[e],f.point?u.drawer.addOverlay(f.id,new n.Point(f.point.X,f.point.Y),n.OverlayPlacement.TOP_LEFT):u.drawer.addOverlay(f.id,new n.Rect(f.rect.Point.X,f.rect.Point.Y,f.rect.Width,f.rect.Height),f.placement);return o[u.hash]=u,u.raiseEvent("open",{source:r}),u}function a(t,i){return n.requestAnimationFrame(function(){i(t)})}function s(t){n.requestAnimationFrame(function(){et(t)})}function r(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=n.now()+t.controlsFadeDelay,window.setTimeout(function(){s(t)},t.controlsFadeDelay))}function et(t){var f,u,i,r;if(t.controlsShouldFade){for(f=n.now(),u=f-t.controlsFadeBeginTime,i=1-u/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),r=t.controls.length-1;r>=0;r--)t.controls[r].autoFade&&t.controls[r].setOpacity(i);i>0&&s(t)}}function f(n){var t;for(n.controlsShouldFade=!1,t=n.controls.length-1;t>=0;t--)n.controls[t].setOpacity(1)}function y(){f(this)}function p(){r(this)}function vt(n){var t,i;!n.preventDefaultAction&&this.viewport&&n.quick&&(t=this.zoomPerClick,i=n.shift?1/t:t,this.viewport.zoomBy(i,this.viewport.pointFromPixel(n.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-click",{tracker:n.eventSource,position:n.position,quick:n.quick,shift:n.shift,originalEvent:n.originalEvent})}function at(n){!n.preventDefaultAction&&this.viewport&&(this.panHorizontal||(n.delta.x=0),this.panVertical||(n.delta.y=0),this.viewport.panBy(this.viewport.deltaPointsFromPixels(n.delta.negate())),this.constrainDuringPan&&this.viewport.applyConstraints()),this.raiseEvent("canvas-drag",{tracker:n.eventSource,position:n.position,delta:n.delta,shift:n.shift,originalEvent:n.originalEvent})}function st(n){n.insideElementPressed&&this.viewport&&this.viewport.applyConstraints(),this.raiseEvent("canvas-release",{tracker:n.eventSource,position:n.position,insideElementPressed:n.insideElementPressed,insideElementReleased:n.insideElementReleased,originalEvent:n.originalEvent})}function ct(n){var t;return!n.preventDefaultAction&&this.viewport&&(t=Math.pow(this.zoomPerScroll,n.scroll),this.viewport.zoomBy(t,this.viewport.pointFromPixel(n.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:n.eventSource,position:n.position,scroll:n.scroll,shift:n.shift,originalEvent:n.originalEvent}),!1}function c(n){n.insideElementPressed||(t[this.hash].mouseInside=!1,t[this.hash].animating||r(this)),this.raiseEvent("container-exit",{tracker:n.eventSource,position:n.position,insideElementPressed:n.insideElementPressed,buttonDownAny:n.buttonDownAny,originalEvent:n.originalEvent})}function ot(n){n.insideElementReleased||(t[this.hash].mouseInside=!1,t[this.hash].animating||r(this)),this.raiseEvent("container-release",{tracker:n.eventSource,position:n.position,insideElementPressed:n.insideElementPressed,insideElementReleased:n.insideElementReleased,originalEvent:n.originalEvent})}function h(n){t[this.hash].mouseInside=!0,f(this),this.raiseEvent("container-enter",{tracker:n.eventSource,position:n.position,insideElementPressed:n.insideElementPressed,buttonDownAny:n.buttonDownAny,originalEvent:n.originalEvent})}function v(n){return n.source?(ut(n),n.source&&(n._updateRequestId=a(n,v)),void 0):(n._updateRequestId=null,void 0)}function ut(n){var u,i,o,e;n.source&&(n.autoResize&&(u=l(n.container),!u.equals(t[n.hash].prevContainerSize))&&(o=n.viewport.getBounds(),e=n.viewport.getCenter(),ft(n,u,o,e),t[n.hash].prevContainerSize=u,t[n.hash].forceRedraw=!0),i=n.viewport.update(),n.referenceStrip&&(i=n.referenceStrip.update(n.viewport)||i),!t[n.hash].animating&&i&&(n.raiseEvent("animation-start"),f(n)),i?(n.drawer.update(),n.navigator&&n.navigator.update(n.viewport),n.raiseEvent("animation")):(t[n.hash].forceRedraw||n.drawer.needsUpdate())&&(n.drawer.update(),n.navigator&&n.navigator.update(n.viewport),t[n.hash].forceRedraw=!1),t[n.hash].animating&&!i&&(n.raiseEvent("animation-finish"),t[n.hash].mouseInside||r(n)),t[n.hash].animating=i)}function ft(t,i,r,u){var o=t.viewport;o.resize(i,!0);var s=1/t.source.aspectRatio,f=r.width<=1?r.width:1,e=r.height<=s?r.height:s,h=new n.Rect(u.x-f/2,u.y-e/2,f,e);o.fitBounds(h,!0)}function i(n,t){return n?n+t:t}function tt(){t[this.hash].lastZoomTime=n.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,e(this)}function lt(){t[this.hash].lastZoomTime=n.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,e(this)}function ht(){t[this.hash].zooming=!1}function e(t){n.requestAnimationFrame(n.delegate(t,k))}function k(){var i,u,r;t[this.hash].zooming&&this.viewport&&(i=n.now(),u=i-t[this.hash].lastZoomTime,r=Math.pow(t[this.hash].zoomFactor,u/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=i,e(this))}function d(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function w(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function b(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function g(){this.viewport&&this.viewport.goHome()}function it(){this.isFullPage()&&!n.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function rt(){var n=t[this.hash].sequence-1;this.navPrevNextWrap&&0>n&&(n+=this.tileSources.length),this.goToPage(n)}function nt(){var n=t[this.hash].sequence+1;this.navPrevNextWrap&&n>=this.tileSources.length&&(n=0),this.goToPage(n)}var t={},o={};n.Viewer=function(i){var e,f=arguments,u=this,o;if(n.isPlainObject(i)||(i={id:f[0],xmlPath:f.length>1?f[1]:void 0,prefixUrl:f.length>2?f[2]:void 0,controls:f.length>3?f[3]:void 0,overlays:f.length>4?f[4]:void 0,overlayControls:f.length>5?f[5]:void 0}),i.config&&(n.extend(!0,i,i.config),delete i.config),n.extend(!0,this,{id:i.id,hash:i.hash||i.id,element:null,container:null,keyboardCommandArea:null,canvas:null,overlays:[],overlayControls:[],previousBody:[],customControls:[],source:null,drawer:null,drawers:[],viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},n.DEFAULT_SETTINGS,i),"undefined"==typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!=typeof t[this.hash]&&n.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new n.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,sequenced:!1,sequence:0,fullPage:!1,onfullscreenchange:null},this._updateRequestId=null,n.EventSource.call(this),this.addHandler("open-failed",function(t){var i=n.getString("Errors.OpenFailed",t.eventSource,t.message);u._showMessage(i)}),n.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.tileSources&&(n.isArray(this.tileSources)?(this.tileSources.length>1&&(t[this.hash].sequenced=!0),this.initialPage>this.tileSources.length-1&&(this.initialPage=this.tileSources.length-1),o=this.tileSources[this.initialPage],t[this.hash].sequence=this.initialPage):o=this.tileSources),this.element=this.element||document.getElementById(this.id),this.canvas=n.makeNeutralElement("div"),this.keyboardCommandArea=n.makeNeutralElement("textarea"),this.canvas.className="openseadragon-canvas",function(n){n.width="100%",n.height="100%",n.overflow="hidden",n.position="absolute",n.top="0px",n.left="0px"}(this.canvas.style),this.container.className="openseadragon-container",function(n){n.width="100%",n.height="100%",n.position="relative",n.overflow="hidden",n.left="0px",n.top="0px",n.textAlign="left"}(this.container.style),this.keyboardCommandArea.className="keyboard-command-area",function(n){n.width="100%",n.height="100%",n.overflow="hidden",n.position="absolute",n.top="0px",n.left="0px",n.resize="none"}(this.keyboardCommandArea.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.container.insertBefore(this.keyboardCommandArea,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.keyboardCommandArea.innerTracker=new n.MouseTracker({_this:this,element:this.keyboardCommandArea,focusHandler:function(t){if(!t.preventDefaultAction){var i=n.getElementPosition(this.element);window.scrollTo(0,i.y)}},keyHandler:function(t){if(!t.preventDefaultAction)switch(t.keyCode){case 61:return u.viewport.zoomBy(1.1),u.viewport.applyConstraints(),!1;case 45:return u.viewport.zoomBy(.9),u.viewport.applyConstraints(),!1;case 48:return u.viewport.goHome(),u.viewport.applyConstraints(),!1;case 119:case 87:case 38:return t.shift?u.viewport.zoomBy(1.1):u.viewport.panBy(new n.Point(0,-.05)),u.viewport.applyConstraints(),!1;case 115:case 83:case 40:return t.shift?u.viewport.zoomBy(.9):u.viewport.panBy(new n.Point(0,.05)),u.viewport.applyConstraints(),!1;case 97:case 37:return u.viewport.panBy(new n.Point(-.05,0)),u.viewport.applyConstraints(),!1;case 100:case 39:return u.viewport.panBy(new n.Point(.05,0)),u.viewport.applyConstraints(),!1;default:return!0}}}).setTracking(!0),this.innerTracker=new n.MouseTracker({element:this.canvas,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,clickHandler:n.delegate(this,vt),dragHandler:n.delegate(this,at),releaseHandler:n.delegate(this,st),scrollHandler:n.delegate(this,ct)}).setTracking(this.mouseNavEnabled?!0:!1),this.outerTracker=new n.MouseTracker({element:this.container,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:n.delegate(this,h),exitHandler:n.delegate(this,c),releaseHandler:n.delegate(this,ot)}).setTracking(this.mouseNavEnabled?!0:!1),this.toolbar&&(this.toolbar=new n.ControlDock({element:this.toolbar})),this.bindStandardControls(),this.bindSequenceControls(),o&&(this.open(o),this.tileSources.length>1&&this._updateSequenceButtons(this.initialPage)),e=0;e<this.customControls.length;e++)this.addControl(this.customControls[e].id,{anchor:this.customControls[e].anchor});n.requestAnimationFrame(function(){r(u)})},n.extend(n.Viewer.prototype,n.EventSource.prototype,n.ControlDock.prototype,{isOpen:function(){return!!this.source},openDzi:function(n){return this.open(n)},openTileSource:function(n){return this.open(n)},open:function(tileSource){var _this=this,customTileSource,readySource,$TileSource,options;return _this._hideMessage(),"string"==n.type(tileSource)&&(tileSource.match(/\s*<.*/)?tileSource=n.parseXml(tileSource):tileSource.match(/\s*[\{\[].*/)&&(tileSource=eval("("+tileSource+")"))),setTimeout(function(){if("string"==n.type(tileSource))tileSource=new n.TileSource(tileSource,function(n){u(_this,n.tileSource)}),tileSource.addHandler("open-failed",function(n){_this.raiseEvent("open-failed",n)});else if(n.isPlainObject(tileSource)||tileSource.nodeType)if(n.isFunction(tileSource.getTileUrl))customTileSource=new n.TileSource(tileSource),customTileSource.getTileUrl=tileSource.getTileUrl,u(_this,customTileSource);else{if($TileSource=n.TileSource.determineType(_this,tileSource),!$TileSource)return _this.raiseEvent("open-failed",{message:"Unable to load TileSource",source:tileSource}),void 0;options=$TileSource.prototype.configure.apply(_this,[tileSource]),readySource=new $TileSource(options),u(_this,readySource)}else u(_this,tileSource)},1),this},close:function(){return null!==this._updateRequestId&&(n.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.navigator&&this.navigator.close(),this.drawer&&this.drawer.clearOverlays(),this.source=null,this.drawer=null,this.viewport=this.preserveViewport?this.viewport:null,this.canvas&&(this.canvas.innerHTML=""),o[this.hash]=null,delete o[this.hash],this.raiseEvent("close"),this},destroy:function(){if(this.close(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.keyboardCommandArea&&this.keyboardCommandArea.innerTracker.destroy(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),this.canvas=null,this.keyboardCommandArea=null,this.container=null,this.element=null},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(n){return this.innerTracker.setTracking(n),this.raiseEvent("mouse-enabled",{enabled:n}),this},areControlsEnabled:function(){for(var t=this.controls.length,n=0;n<this.controls.length;n++)t=t&&this.controls[n].isVisibile();return t},setControlsEnabled:function(n){return n?f(this):r(this),this.raiseEvent("controls-enabled",{enabled:n}),this},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(i){var o,e,u=document.body,r=u.style,f=document.documentElement.style,a=this,v,s,l;if(i==this.isFullPage()||(v={fullPage:i,preventDefaultAction:!1},this.raiseEvent("pre-full-page",v),v.preventDefaultAction))return this;if(i){for(this.elementSize=n.getElementSize(this.element),this.pageScroll=n.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=r.margin,this.docMargin=f.margin,r.margin="0",f.margin="0",this.bodyPadding=r.padding,this.docPadding=f.padding,r.padding="0",f.padding="0",this.bodyWidth=r.width,this.bodyHeight=r.height,r.width="100%",r.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,o=u.childNodes.length,e=0;o>e;e++)this.previousBody.push(u.childNodes[0]),u.removeChild(u.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,u.appendChild(this.toolbar.element),n.addClass(this.toolbar.element,"fullpage")),n.addClass(this.element,"fullpage"),u.appendChild(this.element),this.element.style.height=n.getWindowSize().y+"px",this.element.style.width=n.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=n.getElementSize(this.element).y-n.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,n.delegate(this,h)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,r.margin=this.bodyMargin,f.margin=this.docMargin,r.padding=this.bodyPadding,f.padding=this.docPadding,r.width=this.bodyWidth,r.height=this.bodyHeight,u.removeChild(this.element),o=this.previousBody.length,e=0;o>e;e++)u.appendChild(this.previousBody.shift());n.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(u.removeChild(this.toolbar.element),n.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight,s=0,l=function(){n.setPageScroll(a.pageScroll);var t=n.getPageScroll();s++,(10>s&&t.x!==a.pageScroll.x||t.y!==a.pageScroll.y)&&n.requestAnimationFrame(l)},n.requestAnimationFrame(l),t[this.hash].fullPage=!1,n.delegate(this,c)({})}return this.raiseEvent("full-page",{fullPage:i}),this},setFullScreen:function(t){var i=this,u,r;if(!n.supportsFullScreen)return this.setFullPage(t);if(n.isFullScreen()===t||(u={fullScreen:t,preventDefaultAction:!1},this.raiseEvent("pre-full-screen",u),u.preventDefaultAction))return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%",r=function(){var t=n.isFullScreen();t||(n.removeEvent(document,n.fullScreenEventName,r),n.removeEvent(document,n.fullScreenErrorEventName,r),i.setFullPage(!1),i.isFullPage()&&(i.element.style.width=i.fullPageStyleWidth,i.element.style.height=i.fullPageStyleHeight)),i.raiseEvent("full-screen",{fullScreen:t})},n.addEvent(document,n.fullScreenEventName,r),n.addEvent(document,n.fullScreenErrorEventName,r),n.requestFullScreen(document.body)}else n.cancelFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(n){return this.container.style.visibility=n?"":"hidden",this.raiseEvent("visible",{visible:n}),this},bindSequenceControls:function(){var f=n.delegate(this,y),e=n.delegate(this,p),o=n.delegate(this,nt),s=n.delegate(this,rt),r=this.navImages,u=!0;return this.showSequenceControl&&t[this.hash].sequenced&&((this.previousButton||this.nextButton)&&(u=!1),this.previousButton=new n.Button({element:this.previousButton?n.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.PreviousPage"),srcRest:i(this.prefixUrl,r.previous.REST),srcGroup:i(this.prefixUrl,r.previous.GROUP),srcHover:i(this.prefixUrl,r.previous.HOVER),srcDown:i(this.prefixUrl,r.previous.DOWN),onRelease:s,onFocus:f,onBlur:e}),this.nextButton=new n.Button({element:this.nextButton?n.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.NextPage"),srcRest:i(this.prefixUrl,r.next.REST),srcGroup:i(this.prefixUrl,r.next.GROUP),srcHover:i(this.prefixUrl,r.next.HOVER),srcDown:i(this.prefixUrl,r.next.DOWN),onRelease:o,onFocus:f,onBlur:e}),this.navPrevNextWrap||this.previousButton.disable(),u&&(this.paging=new n.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:n.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:n.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var s=n.delegate(this,tt),e=n.delegate(this,ht),l=n.delegate(this,d),h=n.delegate(this,lt),a=n.delegate(this,w),c=n.delegate(this,g),v=n.delegate(this,it),u=n.delegate(this,y),f=n.delegate(this,p),t=this.navImages,r=[],o=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton)&&(o=!1),r.push(this.zoomInButton=new n.Button({element:this.zoomInButton?n.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomIn"),srcRest:i(this.prefixUrl,t.zoomIn.REST),srcGroup:i(this.prefixUrl,t.zoomIn.GROUP),srcHover:i(this.prefixUrl,t.zoomIn.HOVER),srcDown:i(this.prefixUrl,t.zoomIn.DOWN),onPress:s,onRelease:e,onClick:l,onEnter:s,onExit:e,onFocus:u,onBlur:f})),r.push(this.zoomOutButton=new n.Button({element:this.zoomOutButton?n.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.ZoomOut"),srcRest:i(this.prefixUrl,t.zoomOut.REST),srcGroup:i(this.prefixUrl,t.zoomOut.GROUP),srcHover:i(this.prefixUrl,t.zoomOut.HOVER),srcDown:i(this.prefixUrl,t.zoomOut.DOWN),onPress:h,onRelease:e,onClick:a,onEnter:h,onExit:e,onFocus:u,onBlur:f})),r.push(this.homeButton=new n.Button({element:this.homeButton?n.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.Home"),srcRest:i(this.prefixUrl,t.home.REST),srcGroup:i(this.prefixUrl,t.home.GROUP),srcHover:i(this.prefixUrl,t.home.HOVER),srcDown:i(this.prefixUrl,t.home.DOWN),onRelease:c,onFocus:u,onBlur:f})),r.push(this.fullPageButton=new n.Button({element:this.fullPageButton?n.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:n.getString("Tooltips.FullPage"),srcRest:i(this.prefixUrl,t.fullpage.REST),srcGroup:i(this.prefixUrl,t.fullpage.GROUP),srcHover:i(this.prefixUrl,t.fullpage.HOVER),srcDown:i(this.prefixUrl,t.fullpage.DOWN),onRelease:v,onFocus:u,onBlur:f})),o&&(this.buttons=new n.ButtonGroup({buttons:r,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",n.delegate(this,b)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:n.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:n.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return t[this.hash].sequence},goToPage:function(n){return n>=0&&n<this.tileSources.length&&(this.raiseEvent("page",{page:n}),t[this.hash].sequence=n,this._updateSequenceButtons(n),this.open(this.tileSources[n]),this.referenceStrip&&this.referenceStrip.setFocus(n)),this},_updateSequenceButtons:function(n){this.nextButton&&(this.tileSources.length-1===n?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(n>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var i=n.makeNeutralElement("div");i.appendChild(document.createTextNode(t)),this.messageDiv=n.makeCenteredNode(i),n.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var n=this.messageDiv;n&&(n.parentNode.removeChild(n),delete this.messageDiv)}})}(OpenSeadragon),function(n){function r(t){var i,u,r;this.drag?this.drag=!1:this.viewer.viewport&&(u=this.viewport.deltaPointsFromPixels(t.position),r=this.viewer.viewport.getBounds().getSize(),i=new n.Rect(u.x-r.x/2,u.y-r.y/2,r.x,r.y),this.viewer.source.aspectRatio>this.viewer.viewport.getAspectRatio()?i.y=i.y-(this.viewerSizeInPoints.y-1/this.viewer.source.aspectRatio)/2:i.x=i.x-(this.viewerSizeInPoints.x-1)/2,this.viewer.viewport.fitBounds(i),this.viewer.viewport.applyConstraints())}function i(n){this.viewer.viewport&&(this.drag=!0,this.panHorizontal||(n.delta.x=0),this.panVertical||(n.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(n.delta)))}function t(n){n.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}n.Navigator=function(u){var e,f=u.viewer,o=n.getElementSize(f.element);u.id?(this.element=document.getElementById(u.id),u.controlOptions={anchor:n.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(u.id="navigator-"+n.now(),this.element=n.makeNeutralElement("div"),u.controlOptions={anchor:n.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:!0},u.position&&("BOTTOM_RIGHT"==u.position?u.controlOptions.anchor=n.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==u.position?u.controlOptions.anchor=n.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==u.position?u.controlOptions.anchor=n.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==u.position&&(u.controlOptions.anchor=n.ControlAnchor.TOP_LEFT))),this.element.id=u.id,this.element.className+=" navigator",u=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.navigatorSizeRatio},u,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0}),u.minPixelRatio=this.minPixelRatio=f.minPixelRatio,this.viewerSizeInPoints=f.viewport.deltaPointsFromPixels(o),this.borderWidth=2,this.fudge=new n.Point(1,1),this.totalBorderWidths=new n.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),function(n,t){n.margin="0px",n.border=t+"px solid #555",n.padding="0px",n.background="#000",n.opacity=.8,n.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=n.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(n,t){n.position="relative",n.top="0px",n.left="0px",n.fontSize="0px",n.overflow="hidden",n.border=t+"px solid #900",n.margin="0px",n.padding="0px",n.background="transparent",n.float="left",n.cssFloat="left",n.styleFloat="left",n.zIndex=999999999,n.cursor="default"}(this.displayRegion.style,this.borderWidth),this.element.innerTracker=new n.MouseTracker({element:this.element,dragHandler:n.delegate(this,i),clickHandler:n.delegate(this,r),releaseHandler:n.delegate(this,t),scrollHandler:function(){return!1}}).setTracking(!0),f.addControl(this.element,u.controlOptions),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px"):(this.element.style.width=o.x*u.sizeRatio+"px",this.element.style.height=o.y*u.sizeRatio+"px"),n.Viewer.apply(this,[u]),this.element.getElementsByTagName("form")[0].appendChild(this.displayRegion),e=this.element.getElementsByTagName("textarea")[0],e&&e.parentNode.removeChild(e)},n.extend(n.Navigator.prototype,n.EventSource.prototype,n.Viewer.prototype,{update:function(n){var r,t,i;n&&this.viewport&&(r=n.getBounds(!0),t=this.viewport.pixelFromPoint(r.getTopLeft()),i=this.viewport.pixelFromPoint(r.getBottomRight()).minus(this.totalBorderWidths),function(n){n.top=t.y+"px",n.left=t.x+"px";var u=Math.abs(t.x-i.x),r=Math.abs(t.y-i.y);n.width=Math.max(u,0)+"px",n.height=Math.max(r,0)+"px"}(this.displayRegion.style))},open:function(t){var i=this.viewer.viewport.containerSize.times(this.sizeRatio);return this.minPixelRatio=t.tileSize>i.x||t.tileSize>i.y?Math.min(i.x,i.y)/t.tileSize:this.viewer.minPixelRatio,n.Viewer.prototype.open.apply(this,[t])}})}(OpenSeadragon),function(n){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page"}};n.extend(n,{getString:function(i){for(var e=i.split("."),u=null,o=arguments,f=t,r=0;r<e.length-1;r++)f=f[e[r]]||{};return u=f[e[r]],"string"!=typeof u&&(n.console.debug("Untranslated source string:",i),u=""),u.replace(/\{\d+\}/g,function(n){var t=parseInt(n.match(/\d+/),10)+1;return t<o.length?o[t]:""})},setString:function(n,i){for(var f=n.split("."),u=t,r=0;r<f.length-1;r++)u[f[r]]||(u[f[r]]={}),u=u[f[r]];u[f[r]]=i}})}(OpenSeadragon),function(n){n.Point=function(n,t){this.x="number"==typeof n?n:0,this.y="number"==typeof t?t:0},n.Point.prototype={plus:function(t){return new n.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new n.Point(this.x-t.x,this.y-t.y)},times:function(t){return new n.Point(this.x*t,this.y*t)},divide:function(t){return new n.Point(this.x/t,this.y/t)},negate:function(){return new n.Point(-this.x,-this.y)},distanceTo:function(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))},apply:function(t){return new n.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof n.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,i){var r=t*Math.PI/180,f=Math.cos(r)*(this.x-i.x)-Math.sin(r)*(this.y-i.y)+i.x,u=Math.sin(r)*(this.x-i.x)+Math.cos(r)*(this.y-i.y)+i.y;return new n.Point(f,u)},toString:function(){return"("+Math.round(this.x)+","+Math.round(this.y)+")"}}}(OpenSeadragon),function(n){function t(xhr){var responseText=xhr.responseText,status=xhr.status,statusText,data;if(!xhr)throw new Error(n.getString("Errors.Security"));if(200!==xhr.status&&0!==xhr.status)throw status=xhr.status,statusText=404==status?"Not Found":xhr.statusText,new Error(n.getString("Errors.Status",status,statusText));if(responseText.match(/\s*<.*/))try{data=xhr.responseXML&&xhr.responseXML.documentElement?xhr.responseXML:n.parseXml(responseText)}catch(e){data=xhr.responseText}else data=responseText.match(/\s*[\{\[].*/)?eval("("+responseText+")"):responseText;return data}n.TileSource=function(t){var i,u,f=null,r=arguments;for(i=n.isPlainObject(t)?t:{width:r[0],height:r[1],tileSize:r[2],tileOverlap:r[3],minLevel:r[4],maxLevel:r[5]},n.EventSource.call(this),n.extend(!0,this,i),u=0;u<arguments.length;u++)if(n.isFunction(arguments[u])){f=arguments[u],this.addHandler("ready",function(n){f(n)});break}"string"==n.type(arguments[0])?(this.aspectRatio=1,this.dimensions=new n.Point(10,10),this.tileSize=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(arguments[0])):(this.ready=!0,this.aspectRatio=i.width&&i.height?i.width/i.height:1,this.dimensions=new n.Point(i.width,i.height),this.tileSize=i.tileSize?i.tileSize:0,this.tileOverlap=i.tileOverlap?i.tileOverlap:0,this.minLevel=i.minLevel?i.minLevel:0,this.maxLevel=void 0!==i.maxLevel&&null!==i.maxLevel?i.maxLevel:i.width&&i.height?Math.ceil(Math.log(Math.max(i.width,i.height))/Math.log(2)):0,f&&n.isFunction(f)&&f(this))},n.TileSource.prototype={getLevelScale:function(n){for(var i={},t=0;t<=this.maxLevel;t++)i[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(n){return i[n]},this.getLevelScale(n)},getNumTiles:function(t){var i=this.getLevelScale(t),u=Math.ceil(i*this.dimensions.x/this.tileSize),r=Math.ceil(i*this.dimensions.y/this.tileSize);return new n.Point(u,r)},getPixelRatio:function(t){var i=this.dimensions.times(this.getLevelScale(t)),u=1/i.x,r=1/i.y;return new n.Point(u,r)},getClosestLevel:function(n){for(var i,r=Math.floor(Math.max(n.x,n.y)/this.tileSize),t=this.minLevel;t<this.maxLevel&&(i=this.getNumTiles(t),!(Math.max(i.x,i.y)+1>=r));t++);return Math.max(0,t-1)},getTileAtPoint:function(t,i){var r=i.times(this.dimensions.x).times(this.getLevelScale(t)),f=Math.floor(r.x/this.tileSize),u=Math.floor(r.y/this.tileSize);return new n.Point(f,u)},getTileBounds:function(t,i,r){var o=this.dimensions.times(this.getLevelScale(t)),s=0===i?0:this.tileSize*i-this.tileOverlap,h=0===r?0:this.tileSize*r-this.tileOverlap,f=this.tileSize+(0===i?1:2)*this.tileOverlap,e=this.tileSize+(0===r?1:2)*this.tileOverlap,u=1/o.x;return f=Math.min(f,o.x-s),e=Math.min(e,o.y-h),new n.Rect(s*u,h*u,f*u,e*u)},getImageInfo:function(i){var c,o,h,s,u,f,e,r=this;i&&(u=i.split("/"),f=u[u.length-1],e=f.lastIndexOf("."),e>-1&&(u[u.length-1]=f.slice(0,e))),o=function(t){"string"==typeof t&&(t=n.parseXml(t));var u=n.TileSource.determineType(r,t,i);return u?(s=u.prototype.configure.apply(r,[t,i]),h=new u(s),r.ready=!0,r.raiseEvent("ready",{tileSource:h}),void 0):(r.raiseEvent("open-failed",{message:"Unable to load TileSource",source:i}),void 0)},i.match(/\.js$/)?(c=i.split("/").pop().replace(".js",""),n.jsonp({url:i,async:!1,callbackName:c,callback:o})):n.makeAjaxRequest(i,function(n){var i=t(n);o(i)},function(n,t){var u,f;try{u="HTTP "+n.status+" attempting to load TileSource"}catch(e){f="undefined"!=typeof t&&t.toString?t.toString():"Unknown error",u=f+" attempting to load TileSource"}r.raiseEvent("open-failed",{message:u,source:i})})},supports:function(){return!1},configure:function(){throw new Error("Method not implemented.");},getTileUrl:function(){throw new Error("Method not implemented.");},tileExists:function(n,t,i){var r=this.getNumTiles(n);return n>=this.minLevel&&n<=this.maxLevel&&t>=0&&i>=0&&t<r.x&&i<r.y}},n.extend(!0,n.TileSource.prototype,n.EventSource.prototype),n.TileSource.determineType=function(t,i,r){var u;for(u in OpenSeadragon)if(u.match(/.+TileSource$/)&&n.isFunction(OpenSeadragon[u])&&n.isFunction(OpenSeadragon[u].prototype.supports)&&OpenSeadragon[u].prototype.supports.call(t,i,r))return OpenSeadragon[u];n.console.error("No TileSource was able to open %s %s",r,i)}}(OpenSeadragon),function(n){function i(i,r){if(!r||!r.documentElement)throw new Error(n.getString("Errors.Xml"));var l,s,f,a,o,u=r.documentElement,c=u.tagName,e=null,h=[];if("Image"==c)try{if(a=u.getElementsByTagName("Size")[0],e={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:u.getAttribute("Url"),Format:u.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(u.getAttribute("Overlap"),10),TileSize:parseInt(u.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!n.imageFormatSupported(e.Image.Format))throw new Error(n.getString("Errors.ImageFormat",e.Image.Format.toUpperCase()));for(l=u.getElementsByTagName("DisplayRect"),o=0;o<l.length;o++)s=l[o],f=s.getElementsByTagName("Rect")[0],h.push({Rect:{X:parseInt(f.getAttribute("X"),10),Y:parseInt(f.getAttribute("Y"),10),Width:parseInt(f.getAttribute("Width"),10),Height:parseInt(f.getAttribute("Height"),10),MinLevel:parseInt(s.getAttribute("MinLevel"),10),MaxLevel:parseInt(s.getAttribute("MaxLevel"),10)}});return h.length&&(e.Image.DisplayRect=h),t(i,e)}catch(v){throw v instanceof Error?v:new Error(n.getString("Errors.Dzi"));}else{if("Collection"==c)throw new Error(n.getString("Errors.Dzc"));if("Error"==c)return n._processDZIError(u)}throw new Error(n.getString("Errors.Dzi"));}function t(t,i){for(var r,u=i.Image,a=u.Url,l=u.Format,e=u.Size,o=u.DisplayRect||[],v=parseInt(e.Width,10),y=parseInt(e.Height,10),h=parseInt(u.TileSize,10),c=parseInt(u.Overlap,10),s=[],f=0;f<o.length;f++)r=o[f].Rect,s.push(new n.DisplayRect(parseInt(r.X,10),parseInt(r.Y,10),parseInt(r.Width,10),parseInt(r.Height,10),parseInt(r.MinLevel,10),parseInt(r.MaxLevel,10)));return n.extend(!0,{width:v,height:y,tileSize:h,tileOverlap:c,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:l,displayRects:s},i)}n.DziTileSource=function(t){var f,u,i,r;if(r=n.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=r.tilesUrl,this.fileFormat=r.fileFormat,this.displayRects=r.displayRects,this.displayRects)for(f=this.displayRects.length-1;f>=0;f--)for(u=this.displayRects[f],i=u.minLevel;i<=u.maxLevel;i++)this._levelRects[i]||(this._levelRects[i]=[]),this._levelRects[i].push(u);n.TileSource.apply(this,[r])},n.extend(n.DziTileSource.prototype,n.TileSource.prototype,{supports:function(n){var t;return n.Image?t=n.Image.xmlns:n.documentElement&&"Image"==n.documentElement.tagName&&(t=n.documentElement.namespaceURI),"http://schemas.microsoft.com/deepzoom/2008"==t||"http://schemas.microsoft.com/deepzoom/2009"==t},configure:function(r,u){var f;return f=n.isPlainObject(r)?t(this,r):i(this,r),u&&!f.tilesUrl&&(f.tilesUrl=u.replace(/([^\/]+)\.(dzi|xml|js)$/,"$1_files/")),f},getTileUrl:function(n,t,i){return[this.tilesUrl,n,"/",t,"_",i,".",this.fileFormat].join("")},tileExists:function(n,t,i){var r,e,f,u,h,c,o,s=this._levelRects[n];if(!s||!s.length)return!0;for(o=s.length-1;o>=0;o--)if(r=s[o],!(n<r.minLevel||n>r.maxLevel)&&(e=this.getLevelScale(n),f=r.x*e,u=r.y*e,h=f+r.width*e,c=u+r.height*e,f=Math.floor(f/this.tileSize),u=Math.floor(u/this.tileSize),h=Math.ceil(h/this.tileSize),c=Math.ceil(c/this.tileSize),t>=f&&h>t&&i>=u&&c>i))return!0;return!1}})}(OpenSeadragon),function(n){function r(r,u){if(!u||!u.documentElement)throw new Error(n.getString("Errors.Xml"));var e=u.documentElement,o=e.tagName,f=null;if("info"==o)try{return f={ns:e.namespaceURI},t(e,f),i(r,f)}catch(s){throw s instanceof Error?s:new Error(n.getString("Errors.IIIF"));}throw new Error(n.getString("Errors.IIIF"));}function t(i,r,u){var e,f;if(3==i.nodeType&&u)f=i.nodeValue.trim(),f.match(/^\d*$/)&&(f=Number(f)),r[u]?(n.isArray(r[u])||(r[u]=[r[u]]),r[u].push(f)):r[u]=f;else if(1==i.nodeType)for(e=0;e<i.childNodes.length;e++)t(i.childNodes[e],r,i.nodeName)}function i(n,t){return t.image_host&&(t.tilesUrl=t.image_host),t}n.IIIFTileSource=function(t){var i,f,u,r;if(n.extend(!0,this,t),!(this.height&&this.width&&this.identifier&&this.tilesUrl))throw new Error("IIIF required parameters not provided.");if(t.tileSize=this.tile_width,!t.maxLevel){if(i=-1,f=this.scale_factors||this.scale_factor,f instanceof Array)for(u=0;u<f.length;u++)r=Number(f[u]),!isNaN(r)&&r>i&&(i=r);t.maxLevel=0>i?Number(Math.ceil(Math.log(Math.max(this.width,this.height),2))):i}n.TileSource.apply(this,[t])},n.extend(n.IIIFTileSource.prototype,n.TileSource.prototype,{supports:function(n){return n.ns&&"http://library.stanford.edu/iiif/image-api/ns/"==n.ns||n.profile&&("http://library.stanford.edu/iiif/image-api/compliance.html#level1"==n.profile||"http://library.stanford.edu/iiif/image-api/compliance.html#level2"==n.profile||"http://library.stanford.edu/iiif/image-api/compliance.html#level3"==n.profile||"http://library.stanford.edu/iiif/image-api/compliance.html"==n.profile)||n.documentElement&&"info"==n.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==n.documentElement.namespaceURI},configure:function(t,u){var f,e,o;return e=n.isPlainObject(t)?i(this,t):r(this,t),u&&!e.tilesUrl&&(f=u.split("/"),f.pop(),f=f.join("/"),"http"!==u.substring(0,4)&&(o=location.protocol+"//"+location.host,f=o+f),e.tilesUrl=f.replace(t.identifier,"")),e},getTileUrl:function(n,t,i){var s,o,u,e,a,f,y="0",v="native.jpg",r=Math.pow(.5,this.maxLevel-n),c=Math.ceil(this.width*r),p=Math.ceil(this.height*r),l=Math.ceil(this.tileSize/r),h=Math.ceil(this.tileSize/r);return c<this.tile_width&&p<this.tile_height?(f=c+",",s="full"):(o=t*l,u=i*h,e=Math.min(l,this.width-o),a=Math.min(h,this.height-u),f=Math.ceil(e*r)+",",s=[o,u,e,a].join(",")),[this.tilesUrl,this.identifier,s,f,y,v].join("/")}})}(OpenSeadragon),function(n){n.IIIF1_1TileSource=function(t){var i,f,u,r;if(n.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSize=this.tile_width&&this.tile_height?this.tile_width:Math.min(this.height,this.width),!t.maxLevel){if(i=-1,f=this.scale_factors||this.scale_factor,f instanceof Array)for(u=0;u<f.length;u++)r=Number(f[u]),!isNaN(r)&&r>i&&(i=r);t.maxLevel=0>i?Number(Math.ceil(Math.log(Math.max(this.width,this.height),2))):i}n.TileSource.apply(this,[t])},n.extend(n.IIIF1_1TileSource.prototype,n.TileSource.prototype,{supports:function(n){return n.profile&&("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0"==n.profile||"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1"==n.profile||"http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2"==n.profile||"http://library.stanford.edu/iiif/image-api/1.1/compliance.html"==n.profile)},configure:function(n){return n},getTileUrl:function(n,t,i){var o,s,h,e,u,f,p,w="0",y="native.jpg",r=Math.pow(.5,this.maxLevel-n),l=Math.ceil(this.width*r),a=Math.ceil(this.height*r),c=Math.ceil(this.tileSize/r),v=Math.ceil(this.tileSize/r);return l<this.tile_width&&a<this.tile_height?(f=l+","+a,o="full"):(s=t*c,h=i*v,e=Math.min(c,this.width-s),u=Math.min(v,this.height-h),f=Math.ceil(e*r)+","+Math.ceil(u*r),o=[s,h,e,u].join(",")),p=[this["@id"],o,f,w,y].join("/")}})}(OpenSeadragon),function(n){n.OsmTileSource=function(t){var i;i=n.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},i.width&&i.height||(i.width=65572864,i.height=65572864),i.tileSize||(i.tileSize=256,i.tileOverlap=0),i.tilesUrl||(i.tilesUrl="http://tile.openstreetmap.org/"),i.minLevel=8,n.TileSource.apply(this,[i])},n.extend(n.OsmTileSource.prototype,n.TileSource.prototype,{supports:function(n){return n.type&&"openstreetmaps"==n.type},configure:function(n){return n},getTileUrl:function(n,t,i){return this.tilesUrl+(n-8)+"/"+t+"/"+i+".png"}})}(OpenSeadragon),function(n){n.TmsTileSource=function(t){var i,f,r,u;i=n.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},r=256*Math.ceil(i.width/256),u=256*Math.ceil(i.height/256),f=r>u?r/256:u/256,i.maxLevel=Math.ceil(Math.log(f)/Math.log(2))-1,i.tileSize=256,i.width=r,i.height=u,n.TileSource.apply(this,[i])},n.extend(n.TmsTileSource.prototype,n.TileSource.prototype,{supports:function(n){return n.type&&"tiledmapservice"==n.type},configure:function(n){return n},getTileUrl:function(n,t,i){var r=this.getNumTiles(n).y-1;return this.tilesUrl+n+"/"+t+"/"+(r-i)+".png"}})}(OpenSeadragon),function(n){function i(t){for(var i,u=[],r=0;r<t.length;r++)i=t[r],i.height&&i.width&&i.url&&(i.url.toLowerCase().match(/^.*\.(png|jpg|jpeg|gif)$/)||i.mimetype&&i.mimetype.toLowerCase().match(/^.*\/(png|jpg|jpeg|gif)$/))?u.push({url:i.url,width:Number(i.width),height:Number(i.height)}):n.console.error("Unsupported image format: %s",i.url?i.url:"<no URL>");return u.sort(function(n,t){return n.height-t.height})}function r(i,r){if(!r||!r.documentElement)throw new Error(n.getString("Errors.Xml"));var e,f,h=r.documentElement,u=h.tagName,s=null,o=[];if("image"==u)try{for(s={type:h.getAttribute("type"),levels:[]},o=h.getElementsByTagName("level"),f=0;f<o.length;f++)e=o[f],s.levels.push({url:e.getAttribute("url"),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10)});return t(i,s)}catch(c){throw c instanceof Error?c:new Error("Unknown error parsing Legacy Image Pyramid XML.");}else{if("collection"==u)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==u)throw new Error("Error: "+r);}throw new Error("Unknown element "+u);}function t(n,t){return t.levels}n.LegacyTileSource=function(t){var r,f,u;n.isArray(t)&&(r={type:"legacy-image-pyramid",levels:t}),r.levels=i(r.levels),r.levels.length>0?(f=r.levels[r.levels.length-1].width,u=r.levels[r.levels.length-1].height):(f=0,u=0,n.console.error("No supported image formats found")),n.extend(!0,r,{width:f,height:u,tileSize:Math.max(u,f),tileOverlap:0,minLevel:0,maxLevel:r.levels.length>0?r.levels.length-1:0}),n.TileSource.apply(this,[r]),this.levels=r.levels},n.extend(n.LegacyTileSource.prototype,n.TileSource.prototype,{supports:function(n){return n.type&&"legacy-image-pyramid"==n.type||n.documentElement&&"legacy-image-pyramid"==n.documentElement.getAttribute("type")},configure:function(i){var u;return u=n.isPlainObject(i)?t(this,i):r(this,i)},getLevelScale:function(n){var t=NaN;return this.levels.length>0&&n>=this.minLevel&&n<=this.maxLevel&&(t=this.levels[n].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){var i=this.getLevelScale(t);return i?new n.Point(1,1):new n.Point(0,0)},getTileAtPoint:function(){return new n.Point(0,0)},getTileUrl:function(n){var t=null;return this.levels.length>0&&n>=this.minLevel&&n<=this.maxLevel&&(t=this.levels[n].url),t}})}(OpenSeadragon),function(n){n.TileSourceCollection=function(t){var i;i=n.isPlainObject(t)?t:{tileSize:arguments[0],tileSources:arguments[1],rows:arguments[2],layout:arguments[3]},i.layout||(i.layout="horizontal");var f=0,u=1,r=Math.ceil(i.tileSources.length/i.rows),e=r>=i.rows?r:i.rows;for("horizontal"==i.layout?(i.width=i.tileSize*r,i.height=i.tileSize*i.rows):(i.height=i.tileSize*r,i.width=i.tileSize*i.rows),i.tileOverlap=-i.tileMargin,i.tilesPerRow=r;u<i.tileSize*e;)u=2*u,f++;i.minLevel=f,n.TileSource.apply(this,[i])},n.extend(n.TileSourceCollection.prototype,n.TileSource.prototype,{getTileBounds:function(t,i,r){var o=this.dimensions.times(this.getLevelScale(t)),s=this.tileSize*i-this.tileOverlap,h=this.tileSize*r-this.tileOverlap,f=this.tileSize+1*this.tileOverlap,e=this.tileSize+1*this.tileOverlap,u=1/o.x;return f=Math.min(f,o.x-s),e=Math.min(e,o.y-h),new n.Rect(s*u,h*u,f*u,e*u)},configure:function(){},getTileUrl:function(){return null}})}(OpenSeadragon),function(n){function r(t){n.requestAnimationFrame(function(){f(t)})}function f(t){var u,f,i;t.shouldFade&&(u=n.now(),f=u-t.fadeBeginTime,i=1-f/t.fadeLength,i=Math.min(1,i),i=Math.max(0,i),t.imgGroup&&n.setElementOpacity(t.imgGroup,i,!0),i>0&&r(t))}function u(t){t.shouldFade=!0,t.fadeBeginTime=n.now()+t.fadeDelay,window.setTimeout(function(){r(t)},t.fadeDelay)}function e(t){t.shouldFade=!1,t.imgGroup&&n.setElementOpacity(t.imgGroup,1,!0)}function i(t,i){t.element.disabled||(i>=n.ButtonState.GROUP&&t.currentState==n.ButtonState.REST&&(e(t),t.currentState=n.ButtonState.GROUP),i>=n.ButtonState.HOVER&&t.currentState==n.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=n.ButtonState.HOVER),i>=n.ButtonState.DOWN&&t.currentState==n.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=n.ButtonState.DOWN))}function t(t,i){t.element.disabled||(i<=n.ButtonState.HOVER&&t.currentState==n.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=n.ButtonState.HOVER),i<=n.ButtonState.GROUP&&t.currentState==n.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=n.ButtonState.GROUP),i<=n.ButtonState.REST&&t.currentState==n.ButtonState.GROUP&&(u(t),t.currentState=n.ButtonState.REST))}n.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},n.Button=function(r){var u=this;n.EventSource.call(this),n.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},r),this.element=r.element||n.makeNeutralElement("button"),r.element||(this.imgRest=n.makeTransparentImage(this.srcRest),this.imgGroup=n.makeTransparentImage(this.srcGroup),this.imgHover=n.makeTransparentImage(this.srcHover),this.imgDown=n.makeTransparentImage(this.srcDown),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",n.Browser.vendor==n.BROWSERS.FIREFOX&&n.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="")),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=n.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new n.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(i(u,n.ButtonState.DOWN),u.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||i(u,n.ButtonState.HOVER)},focusHandler:function(n){this.enterHandler(n),u.raiseEvent("focus",{originalEvent:n.originalEvent})},exitHandler:function(i){t(u,n.ButtonState.GROUP),i.insideElementPressed&&u.raiseEvent("exit",{originalEvent:i.originalEvent})},blurHandler:function(n){this.exitHandler(n),u.raiseEvent("blur",{originalEvent:n.originalEvent})},pressHandler:function(t){i(u,n.ButtonState.DOWN),u.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(r){r.insideElementPressed&&r.insideElementReleased?(t(u,n.ButtonState.HOVER),u.raiseEvent("release",{originalEvent:r.originalEvent})):r.insideElementPressed?t(u,n.ButtonState.GROUP):i(u,n.ButtonState.HOVER)},clickHandler:function(n){n.quick&&u.raiseEvent("click",{originalEvent:n.originalEvent})},keyHandler:function(n){return 13===n.keyCode?(u.raiseEvent("click",{originalEvent:n.originalEvent}),u.raiseEvent("release",{originalEvent:n.originalEvent}),!1):!0}}).setTracking(!0),t(this,n.ButtonState.REST)},n.extend(n.Button.prototype,n.EventSource.prototype,{notifyGroupEnter:function(){i(this,n.ButtonState.GROUP)},notifyGroupExit:function(){t(this,n.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,n.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,n.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(n){n.ButtonGroup=function(t){n.extend(!0,this,{buttons:[],clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:n.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var r,u=this.buttons.concat([]),i=this;if(this.element=t.element||n.makeNeutralElement("fieldgroup"),!t.group)for(this.label=n.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),r=0;r<u.length;r++)this.element.appendChild(u[r].element);this.tracker=new n.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(){for(var n=0;n<i.buttons.length;n++)i.buttons[n].notifyGroupEnter()},exitHandler:function(n){var t;if(!n.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()},releaseHandler:function(n){var t;if(!n.insideElementReleased)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}}).setTracking(!0)},n.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(n){n.Rect=function(n,t,i,r){this.x="number"==typeof n?n:0,this.y="number"==typeof t?t:0,this.width="number"==typeof i?i:0,this.height="number"==typeof r?r:0},n.Rect.prototype={getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new n.Point(this.x,this.y)},getBottomRight:function(){return new n.Point(this.x+this.width,this.y+this.height)},getTopRight:function(){return new n.Point(this.x+this.width,this.y)},getBottomLeft:function(){return new n.Point(this.x,this.y+this.height)},getCenter:function(){return new n.Point(this.x+this.width/2,this.y+this.height/2)},getSize:function(){return new n.Point(this.width,this.height)},equals:function(t){return t instanceof n.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},rotate:function(t,i){var r,f=this.width,u=this.height;if(t=(t+360)%360,t%90!=0)throw new Error("Currently only 0, 90, 180, and 270 degrees are supported.");if(0===t)return new n.Rect(this.x,this.y,this.width,this.height);switch(i=i||this.getCenter(),t){case 90:r=this.getBottomLeft(),f=this.height,u=this.width;break;case 180:r=this.getBottomRight();break;case 270:r=this.getTopRight(),f=this.height,u=this.width;break;default:r=this.getTopLeft()}return r=r.rotate(t,i),new n.Rect(r.x,r.y,f,u)},toString:function(){return"["+Math.round(100*this.x)+","+Math.round(100*this.y)+","+Math.round(100*this.width)+"x"+Math.round(100*this.height)+"]"}}}(OpenSeadragon),function(n){function f(i){var f=Number(this.element.style.marginLeft.replace("px","")),u=Number(this.element.style.marginTop.replace("px","")),e=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),r=n.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-i.delta.x>0?f>-(e-r.x)&&(this.element.style.marginLeft=f+2*i.delta.x+"px",t(this,r.x,f+2*i.delta.x)):-i.delta.x<0&&0>f&&(this.element.style.marginLeft=f+2*i.delta.x+"px",t(this,r.x,f+2*i.delta.x)):-i.delta.y>0?u>-(o-r.y)&&(this.element.style.marginTop=u+2*i.delta.y+"px",t(this,r.y,u+2*i.delta.y)):-i.delta.y<0&&0>u&&(this.element.style.marginTop=u+2*i.delta.y+"px",t(this,r.y,u+2*i.delta.y))),!1}function i(i){var f=Number(this.element.style.marginLeft.replace("px","")),u=Number(this.element.style.marginTop.replace("px","")),e=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),r=n.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?i.scroll>0?f>-(e-r.x)&&(this.element.style.marginLeft=f-60*i.scroll+"px",t(this,r.x,f-60*i.scroll)):i.scroll<0&&0>f&&(this.element.style.marginLeft=f-60*i.scroll+"px",t(this,r.x,f-60*i.scroll)):i.scroll<0?u>r.y-o&&(this.element.style.marginTop=u+60*i.scroll+"px",t(this,r.y,u+60*i.scroll)):i.scroll>0&&0>u&&(this.element.style.marginTop=u+60*i.scroll+"px",t(this,r.y,u+60*i.scroll))),!1}function t(t,i,r){for(var f,u,e,h="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(i/h)+5,c=Math.ceil((Math.abs(r)+i)/h)+1,o=c-o,o=0>o?0:o,s=o;c>s&&s<t.panels.length;s++)e=t.panels[s],e.activePanel||(f=new n.Viewer({id:e.id,tileSources:[t.viewer.tileSources[s]],element:e,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0}),f.displayRegion=n.makeNeutralElement("textarea"),f.displayRegion.id=e.id+"-displayregion",f.displayRegion.className="displayregion",u=f.displayRegion.style,u.position="relative",u.top="0px",u.left="0px",u.fontSize="0px",u.overflow="hidden",u.float="left",u.cssFloat="left",u.styleFloat="left",u.zIndex=999999999,u.cursor="default",u.width=t.panelWidth-4+"px",u.height=t.panelHeight-4+"px",f.displayRegion.innerTracker=new n.MouseTracker({element:f.displayRegion}),e.getElementsByTagName("form")[0].appendChild(f.displayRegion),e.activePanel=!0)}function u(n){var t=n.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function o(t){var i=t.eventSource.element;return"horizontal"==this.scroll?i.style.marginBottom="-"+n.getElementSize(i).y/2+"px":i.style.marginLeft="-"+n.getElementSize(i).x/2+"px",!1}function e(n){switch(n.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 40:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var r={};n.ReferenceStrip=function(s){var h,l,v,y=this,c=s.viewer,a=n.getElementSize(c.element);for(s.id||(s.id="referencestrip-"+n.now(),this.element=n.makeNeutralElement("div"),this.element.id=s.id,this.element.className="referencestrip"),s=n.extend(!0,{sizeRatio:n.DEFAULT_SETTINGS.referenceStripSizeRatio,position:n.DEFAULT_SETTINGS.referenceStripPosition,scroll:n.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:n.DEFAULT_SETTINGS.clickTimeThreshold},s,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),n.extend(this,s),r[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,l=this.element.style,l.marginTop="0px",l.marginRight="0px",l.marginBottom="0px",l.marginLeft="0px",l.left="0px",l.bottom="0px",l.border="0px",l.background="#000",l.position="relative",n.setElementOpacity(this.element,.8),this.viewer=c,this.innerTracker=new n.MouseTracker({element:this.element,dragHandler:n.delegate(this,f),scrollHandler:n.delegate(this,i),enterHandler:n.delegate(this,u),exitHandler:n.delegate(this,o),keyHandler:n.delegate(this,e)}).setTracking(!0),s.width&&s.height?(this.element.style.width=s.width+"px",this.element.style.height=s.height+"px",c.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):"horizontal"==s.scroll?(this.element.style.width=a.x*s.sizeRatio*c.tileSources.length+12*c.tileSources.length+"px",this.element.style.height=a.y*s.sizeRatio+"px",c.addControl(this.element,{anchor:n.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=a.y*s.sizeRatio*c.tileSources.length+12*c.tileSources.length+"px",this.element.style.width=a.x*s.sizeRatio+"px",c.addControl(this.element,{anchor:n.ControlAnchor.TOP_LEFT})),this.panelWidth=a.x*this.sizeRatio+8,this.panelHeight=a.y*this.sizeRatio+8,this.panels=[],v=0;v<c.tileSources.length;v++)h=n.makeNeutralElement("div"),h.id=this.element.id+"-"+v,h.style.width=y.panelWidth+"px",h.style.height=y.panelHeight+"px",h.style.display="inline",h.style.float="left",h.style.cssFloat="left",h.style.styleFloat="left",h.style.padding="2px",h.innerTracker=new n.MouseTracker({element:h,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=n.now()},releaseHandler:function(t){var i=t.eventSource,f=i.element.id,u=Number(f.split("-")[2]),r=n.now();t.insideElementPressed&&t.insideElementReleased&&i.dragging&&r-i.dragging<i.clickTimeThreshold&&(i.dragging=null,c.goToPage(u))}}).setTracking(!0),this.element.appendChild(h),h.activePanel=!1,this.panels.push(h);t(this,"vertical"==this.scroll?a.y:a.y,0),this.setFocus(0)},n.extend(n.ReferenceStrip.prototype,n.EventSource.prototype,n.Viewer.prototype,{setFocus:function(i){var r,e=n.getElement(this.element.id+"-"+i),f=n.getElementSize(this.viewer.canvas),c=Number(this.element.style.width.replace("px","")),h=Number(this.element.style.height.replace("px","")),o=-Number(this.element.style.marginLeft.replace("px","")),s=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==e&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=e,this.currentSelected.style.background="#999","horizontal"==this.scroll?(r=Number(i)*(this.panelWidth+3),r>o+f.x-this.panelWidth?(r=Math.min(r,c-f.x),this.element.style.marginLeft=-r+"px",t(this,f.x,-r)):o>r&&(r=Math.max(0,r-f.x/2),this.element.style.marginLeft=-r+"px",t(this,f.x,-r))):(r=Number(i)*(this.panelHeight+3),r>s+f.y-this.panelHeight?(r=Math.min(r,h-f.y),this.element.style.marginTop=-r+"px",t(this,f.y,-r)):s>r&&(r=Math.max(0,r-f.y/2),this.element.style.marginTop=-r+"px",t(this,f.y,-r))),this.currentPage=i,n.getElement(e.id+"-displayregion").focus(),u.call(this,{eventSource:this.innerTracker}))},update:function(){return r[this.id].animating?(n.console.log("image reference strip update"),!0):!1}})}(OpenSeadragon),function(n){n.DisplayRect=function(t,i,r,u,f,e){n.Rect.apply(this,[t,i,r,u]),this.minLevel=f,this.maxLevel=e},n.extend(n.DisplayRect.prototype,n.Rect.prototype)}(OpenSeadragon),function(n){function t(n,t){return(1-Math.exp(n*-t))/(1-Math.exp(-n))}n.Spring=function(t){var i=arguments;"object"!=typeof t&&(t={initial:i.length&&"number"==typeof i[0]?i[0]:0,springStiffness:i.length>1?i[1].springStiffness:5,animationTime:i.length>1?i[1].animationTime:1.5}),n.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:0,time:n.now()},this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time}},n.Spring.prototype={resetTo:function(n){this.target.value=n,this.target.time=this.current.time,this.start.value=this.target.value,this.start.time=this.target.time},springTo:function(n){this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=n,this.target.time=this.start.time+1e3*this.animationTime},shiftBy:function(n){this.start.value+=n,this.target.value+=n},update:function(){this.current.time=n.now(),this.current.value=this.current.time>=this.target.time?this.target.value:this.start.value+(this.target.value-this.start.value)*t(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time))}}}(OpenSeadragon),function(n){var t={};n.Tile=function(n,t,i,r,u,f){this.level=n,this.x=t,this.y=i,this.bounds=r,this.exists=u,this.url=f,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.distance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0},n.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},drawHTML:function(t){return this.loaded&&this.image?(this.element||(this.element=n.makeNeutralElement("div"),this.imgElement=n.makeNeutralElement("img"),this.imgElement.src=this.url,this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",n.setElementOpacity(this.element,this.opacity),void 0):(n.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()),void 0)},drawCanvas:function(i){var r,e,f=this.position,u=this.size;return this.loaded&&(this.image||t[this.url])?(i.globalAlpha=this.opacity,1==i.globalAlpha&&this.url.match(".png")&&i.clearRect(f.x+1,f.y+1,u.x-2,u.y-2),t[this.url]||(e=document.createElement("canvas"),e.width=this.image.width,e.height=this.image.height,r=e.getContext("2d"),r.drawImage(this.image,0,0),t[this.url]=r,this.image=null),r=t[this.url],i.drawImage(r.canvas,0,0,r.canvas.width,r.canvas.height,f.x,f.y,u.x,u.y),void 0):(n.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()),void 0)},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),t[this.url]&&delete t[this.url],this.element=null,this.imgElement=null,this.image=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(n){n.OverlayPlacement={CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8},n.Overlay=function(t,i,r){var u;u=n.isPlainObject(t)?t:{element:t,location:i,placement:r},this.element=u.element,this.scales=u.location instanceof n.Rect,this.bounds=new n.Rect(u.location.x,u.location.y,u.location.width,u.location.height),this.position=new n.Point(u.location.x,u.location.y),this.size=new n.Point(u.location.width,u.location.height),this.style=u.element.style,this.placement=u.location instanceof n.Point?u.placement:n.OverlayPlacement.TOP_LEFT,this.onDraw=u.onDraw},n.Overlay.prototype={adjust:function(t,i){switch(this.placement){case n.OverlayPlacement.TOP_LEFT:break;case n.OverlayPlacement.TOP:t.x-=i.x/2;break;case n.OverlayPlacement.TOP_RIGHT:t.x-=i.x;break;case n.OverlayPlacement.RIGHT:t.x-=i.x,t.y-=i.y/2;break;case n.OverlayPlacement.BOTTOM_RIGHT:t.x-=i.x,t.y-=i.y;break;case n.OverlayPlacement.BOTTOM:t.x-=i.x/2,t.y-=i.y;break;case n.OverlayPlacement.BOTTOM_LEFT:t.y-=i.y;break;case n.OverlayPlacement.LEFT:t.y-=i.y/2;break;default:case n.OverlayPlacement.CENTER:t.x-=i.x/2,t.y-=i.y/2}},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",this.scales&&(n.width="",n.height="")},drawHTML:function(t,i){var u,r,s,f=this.element,e=this.style,h=this.scales,c=new n.Point(i.viewer.drawer.canvas.width/2,i.viewer.drawer.canvas.height/2),o=i.degrees;f.parentNode!=t&&(f.prevElementParent=f.parentNode,f.prevNextSibling=f.nextSibling,t.appendChild(f)),h||(this.size=n.getElementSize(f)),u=this.position,r=this.size,this.adjust(u,r),u=u.apply(Math.floor),r=r.apply(Math.ceil),0!==o&&this.scales&&(s=new n.Point(r.x/2,r.y/2),u=u.plus(s).rotate(o,c).minus(s),r=r.rotate(o,new n.Point(0,0)),r=new n.Point(Math.abs(r.x),Math.abs(r.y))),this.onDraw?this.onDraw(u,r,f):(e.left=u.x+"px",e.top=u.y+"px",e.position="absolute",e.display="block",h&&(e.width=r.x+"px",e.height=r.y+"px"))},update:function(t,i){this.scales=t instanceof n.Rect,this.bounds=new n.Rect(t.x,t.y,t.width,t.height),this.placement=t instanceof n.Point?i:n.OverlayPlacement.TOP_LEFT}}}(OpenSeadragon),function(n){function v(t,i){var r=null,u=i.height&&i.width?new n.Rect(i.x||i.px,i.y||i.py,i.width,i.height):new n.Point(i.x||i.px,i.y||i.py),f=i.id?i.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());return r=n.getElement(i.id),r||(r=document.createElement("a"),r.href="#/overlay/"+f),r.id=f,n.addClass(r,i.className?i.className:"openseadragon-overlay"),void 0!==i.px&&(u=t.viewport.imageToViewportRectangle(u)),i.placement?new n.Overlay({element:r,location:t.viewport.pointFromPixel(u),placement:n.OverlayPlacement[i.placement.toUpperCase()],onDraw:i.onDraw}):new n.Overlay({element:r,location:u,onDraw:i.onDraw})}function w(i){var p,w;i.updateAgain=!1,i.viewer&&i.viewer.raiseEvent("update-viewport",{});for(var g,f,y,ft,ut,k,it,nt,o=null,h=!1,rt=n.now(),e=i.viewport.getContainerSize(),v=i.viewport.getBounds(!0),u=v.getTopLeft(),r=v.getBottomRight(),et=i.viewport.deltaPixelsFromPoints(i.source.getPixelRatio(0),!0).x,l=Math.max(i.source.minLevel,Math.floor(Math.log(i.minZoomImageRatio)/Math.log(2))),tt=Math.min(Math.abs(i.source.maxLevel),Math.abs(Math.floor(Math.log(et/i.minPixelRatio)/Math.log(2)))),a=i.viewport.degrees;i.lastDrawn.length>0;)g=i.lastDrawn.pop(),g.beingDrawn=!1;if((i.canvas.innerHTML="",i.useCanvas&&((i.canvas.width!=e.x||i.canvas.height!=e.y)&&(i.canvas.width=e.x,i.canvas.height=e.y),i.context.clearRect(0,0,e.x,e.y)),90===a||270===a)&&(p=v.rotate(a),u=p.getTopLeft(),r=p.getBottomRight()),!(!i.wrapHorizontal&&(r.x<0||u.x>1)||!i.wrapVertical&&(r.y<0||u.y>i.normHeight))){for(i.wrapHorizontal||(u.x=Math.max(u.x,0),r.x=Math.min(r.x,1)),i.wrapVertical||(u.y=Math.max(u.y,0),r.y=Math.min(r.y,i.normHeight)),l=Math.min(l,tt),f=tt;f>=l;f--){if(w=!1,y=i.viewport.deltaPixelsFromPoints(i.source.getPixelRatio(f),!0).x,!h&&y>=i.minPixelRatio||f==l)w=!0,h=!0;else if(!h)continue;if(ft=i.viewport.deltaPixelsFromPoints(i.source.getPixelRatio(f),!1).x,ut=i.viewport.deltaPixelsFromPoints(i.source.getPixelRatio(Math.max(i.source.getClosestLevel(i.viewport.containerSize)-1,0)),!1).x,k=i.immediateRender?1:ut,it=Math.min(1,(y-.5)/.5),nt=k/Math.abs(k-ft),o=b(i,h,w,f,it,nt,u,r,rt,o),t(i.coverage,f))break}s(i,i.lastDrawn),c(i.viewport,i.overlays,i.container),o&&(d(i,o,rt),i.updateAgain=!0)}}function b(n,t,i,r,u,f,e,o,s,h){var a,v,y,c,l,p=n.viewport.pixelFromPoint(n.viewport.getCenter());for(n.viewer&&n.viewer.raiseEvent("update-level",{havedrawn:t,level:r,opacity:u,visibility:f,topleft:e,bottomright:o,currenttime:s,best:h}),y=n.source.getTileAtPoint(r,e),c=n.source.getTileAtPoint(r,o),l=n.source.getNumTiles(r),ft(n.coverage,r),n.wrapHorizontal||(c.x=Math.min(c.x,l.x-1)),n.wrapVertical||(c.y=Math.min(c.y,l.y-1)),a=y.x;a<=c.x;a++)for(v=y.y;v<=c.y;v++)h=it(n,i,t,a,v,r,u,f,p,l,s,h);return h}function it(n,t,i,u,f,e,o,s,h,c,l,a){var v=ut(u,f,e,n.source,n.tilesMatrix,l,c,n.normHeight),y=t,p;return(n.viewer&&n.viewer.raiseEvent("update-tile",{tile:v}),r(n.coverage,e,u,f,!1),!v.exists)?a:(i&&!y&&(tt(n.coverage,e,u,f)?r(n.coverage,e,u,f,!0):y=!0),!y)?a:((g(v,n.source.tileOverlap,n.viewport,h,s),v.loaded)?(p=nt(n,v,u,f,e,o,l),p&&(n.updateAgain=!0)):v.loading||(a=rt(a,v)),a)}function ut(t,i,r,u,f,e,o,s){var c,h,l,v,y,a;return f[r]||(f[r]={}),f[r][t]||(f[r][t]={}),f[r][t][i]||(c=(o.x+t%o.x)%o.x,h=(o.y+i%o.y)%o.y,l=u.getTileBounds(r,c,h),v=u.tileExists(r,c,h),y=u.getTileUrl(r,c,h),l.x+=1*(t-c)/o.x,l.y+=s*(i-h)/o.y,f[r][t][i]=new n.Tile(r,t,i,l,v,y)),a=f[r][t][i],a.lastTouchTime=e,a}function d(n,t,i){n.viewport.collectionMode?(n.midUpdate=!1,o(n,t,i)):t.loading=n.loadImage(t.url,function(r){o(n,t,i,r)})}function o(t,i,r,u){var l,y,f,c,v,s,e,h,a,o;if(i.loading=!1,t.midUpdate)return n.console.warn("Tile load callback in middle of drawing routine."),void 0;if(u||t.viewport.collectionMode){if(r<t.lastResetTime)return n.console.log("Ignoring tile %s loaded before reset: %s",i,i.url),void 0}else if(n.console.log("Tile %s failed to load: %s",i,i.url),!t.debugMode)return i.exists=!1,void 0;if(i.loaded=!0,i.image=u,l=t.tilesLoaded.length,t.tilesLoaded.length>=t.maxImageCacheCount){for(y=Math.ceil(Math.log(t.source.tileSize)/Math.log(2)),f=null,s=-1,o=t.tilesLoaded.length-1;o>=0;o--)e=t.tilesLoaded[o],e.level<=t.cutoff||e.beingDrawn||(f?(h=e.lastTouchTime,c=f.lastTouchTime,a=e.level,v=f.level,(c>h||h==c&&a>v)&&(f=e,s=o)):(f=e,s=o));f&&s>=0&&(f.unload(),l=s)}t.tilesLoaded[l]=i,t.updateAgain=!0}function g(t,i,r,u,f){var s=t.bounds.getTopLeft(),o=t.bounds.getSize(),v=r.pixelFromPoint(s,!0),a=r.pixelFromPoint(s,!1),e=r.deltaPixelsFromPoints(o,!0),l=r.deltaPixelsFromPoints(o,!1),h=a.plus(l.divide(2)),c=u.distanceTo(h);i||(e=e.plus(new n.Point(1,1))),t.position=v,t.size=e,t.distance=c,t.visibility=f}function nt(n,t,i,u,f,e,o){var c,s,h=1e3*n.blendTime;if(t.blendStart||(t.blendStart=o),c=o-t.blendStart,s=h?Math.min(1,c/h):1,n.alwaysBlend&&(s*=e),t.opacity=s,n.lastDrawn.push(t),1==s)r(n.coverage,f,i,u,!0);else if(h>c)return!0;return!1}function k(n){n.tilesMatrix={},n.tilesLoaded=[]}function t(n,t,i,r){var f,u,o,e;if(!n[t])return!1;if(void 0===i||void 0===r){f=n[t];for(o in f)if(f.hasOwnProperty(o)){u=f[o];for(e in u)if(u.hasOwnProperty(e)&&!u[e])return!1}return!0}return void 0===n[t][i]||void 0===n[t][i][r]||n[t][i][r]===!0}function tt(n,i,r,u){return void 0===r||void 0===u?t(n,i+1):t(n,i+1,2*r,2*u)&&t(n,i+1,2*r,2*u+1)&&t(n,i+1,2*r+1,2*u)&&t(n,i+1,2*r+1,2*u+1)}function r(t,i,r,u,f){return t[i]?(t[i][r]||(t[i][r]={}),t[i][r][u]=f,void 0):(n.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",i),void 0)}function ft(n,t){n[t]={}}function e(n,t){for(var i=n.length-1;i>=0;i--)if(n[i].element==t)return i;return-1}function rt(n,t){return n?t.visibility>n.visibility?t:t.visibility==n.visibility&&t.distance<n.distance?t:n:t}function u(t,i,r,u){t.onload=null,t.onabort=null,t.onerror=null,u&&window.clearTimeout(u),n.requestAnimationFrame(function(){i(t.src,r?t:null)})}function c(n,t,i){for(var u=t.length,r=0;u>r;r++)l(n,t[r],i)}function l(n,t,i){t.position=n.pixelFromPoint(t.bounds.getTopLeft(),!0),t.size=n.deltaPixelsFromPoints(t.bounds.getSize(),!0),t.drawHTML(i,n)}function s(t,i){for(var r,o,u,c,l,s,f,e=i.length-1;e>=0;e--){if(r=i[e],t.viewport.collectionMode?(o=r.x+"/"+r.y,c=t.viewport,f=c.collectionTileSource,t.collectionOverlays[o]?(u=t.collectionOverlays[o],u.viewport&&(u.viewport.resize(r.size,!0),u.viewport.goHome(!0))):(l="horizontal"==f.layout?r.y+r.x*f.rows:r.x+r.y*f.rows,s=l<f.tileSources.length?f.tileSources[l]:null,s&&(t.collectionOverlays[o]=u=new n.Viewer({hash:c.viewer.hash+"-"+o,element:n.makeNeutralElement("div"),mouseNavEnabled:!1,showNavigator:!1,showSequenceControl:!1,showNavigationControl:!1,tileSources:[s]}),y&&(u.element.style.border="1px solid rgba(255,255,255,0.38)",u.element.style["-webkit-box-reflect"]="below 0px -webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(62%,transparent),to(rgba(255,255,255,0.62)))"),t.addOverlay(u.element,r.bounds)))):(t.useCanvas?0!==t.viewport.degrees?(h(r,t.canvas,t.context,t.viewport.degrees),r.drawCanvas(t.context),a(r,t.canvas,t.context)):r.drawCanvas(t.context):r.drawHTML(t.canvas),r.beingDrawn=!0),t.debugMode)try{p(t,r,i.length,e)}catch(v){n.console.error(v)}t.viewer&&t.viewer.raiseEvent("tile-drawn",{tile:r})}}function h(n,t,i,r){var f=t.width/2,u=t.height/2,o=n.position.x-f,e=n.position.y-u;i.save(),i.translate(f,u),i.rotate(Math.PI/180*r),n.position.x=o,n.position.y=e}function a(n,t,i){var f=t.width/2,e=t.height/2,r=n.position.x+f,u=n.position.y+e;n.position.x=r,n.position.y=u,i.restore()}function p(n,t,i,r){n.useCanvas&&(n.context.save(),n.context.lineWidth=2,n.context.font="small-caps bold 13px ariel",n.context.strokeStyle=n.debugGridColor,n.context.fillStyle=n.debugGridColor,n.context.strokeRect(t.position.x,t.position.y,t.size.x,t.size.y),0===t.x&&0===t.y&&(n.context.fillText("Zoom: "+n.viewport.getZoom(),t.position.x,t.position.y-30),n.context.fillText("Pan: "+n.viewport.getBounds().toString(),t.position.x,t.position.y-20)),n.context.fillText("Level: "+t.level,t.position.x+10,t.position.y+20),n.context.fillText("Column: "+t.x,t.position.x+10,t.position.y+30),n.context.fillText("Row: "+t.y,t.position.x+10,t.position.y+40),n.context.fillText("Order: "+r+" of "+i,t.position.x+10,t.position.y+50),n.context.fillText("Size: "+t.size.toString(),t.position.x+10,t.position.y+60),n.context.fillText("Position: "+t.position.toString(),t.position.x+10,t.position.y+70),n.context.restore())}var i=(n.getWindowSize(),n.Browser.vendor),f=n.Browser.version,y=i==n.BROWSERS.FIREFOX||i==n.BROWSERS.OPERA||i==n.BROWSERS.SAFARI&&f>=4||i==n.BROWSERS.CHROME&&f>=2||i==n.BROWSERS.IE&&f>=9;n.Drawer=function(t){var i,r=arguments;for(n.isPlainObject(t)||(t={source:r[0],viewport:r[1],element:r[2]}),n.extend(!0,this,{viewer:null,downloading:0,tilesMatrix:{},tilesLoaded:[],coverage:{},lastDrawn:[],lastResetTime:0,midUpdate:!1,updateAgain:!0,overlays:[],collectionOverlays:{},maxImageCacheCount:n.DEFAULT_SETTINGS.maxImageCacheCount,imageLoaderLimit:n.DEFAULT_SETTINGS.imageLoaderLimit,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,immediateRender:n.DEFAULT_SETTINGS.immediateRender,blendTime:n.DEFAULT_SETTINGS.blendTime,alwaysBlend:n.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:n.DEFAULT_SETTINGS.minPixelRatio,debugMode:n.DEFAULT_SETTINGS.debugMode,timeout:n.DEFAULT_SETTINGS.timeout},t),this.useCanvas=n.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=n.getElement(this.element),this.canvas=n.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.normHeight=this.source.dimensions.y/this.source.dimensions.x,this.element=this.container,this.container.dir="ltr",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.container.style.textAlign="left",this.container.appendChild(this.canvas),i=0;i<this.overlays.length;i++)n.isPlainObject(this.overlays[i])?this.overlays[i]=v(this,this.overlays[i]):n.isFunction(this.overlays[i])},n.Drawer.prototype={addOverlay:function(t,i,r,u){var f;return f=n.isPlainObject(t)?t:{element:t,location:i,placement:r,onDraw:u},t=n.getElement(f.element),e(this.overlays,t)>=0?void 0:(this.overlays.push(new n.Overlay({element:t,location:f.location,placement:f.placement,onDraw:f.onDraw})),this.updateAgain=!0,this.viewer&&this.viewer.raiseEvent("add-overlay",{element:t,location:f.location,placement:f.placement}),this)},updateOverlay:function(t,i,r){var u;return t=n.getElement(t),u=e(this.overlays,t),u>=0&&(this.overlays[u].update(i,r),this.updateAgain=!0),this.viewer&&this.viewer.raiseEvent("update-overlay",{element:t,location:i,placement:r}),this},removeOverlay:function(t){var i;return t=n.getElement(t),i=e(this.overlays,t),i>=0&&(this.overlays[i].destroy(),this.overlays.splice(i,1),this.updateAgain=!0),this.viewer&&this.viewer.raiseEvent("remove-overlay",{element:t}),this},clearOverlays:function(){for(;this.overlays.length>0;)this.overlays.pop().destroy(),this.updateAgain=!0;return this.viewer&&this.viewer.raiseEvent("clear-overlay",{}),this},needsUpdate:function(){return this.updateAgain},numTilesLoaded:function(){return this.tilesLoaded.length},reset:function(){return k(this),this.lastResetTime=n.now(),this.updateAgain=!0,this},update:function(){return this.midUpdate=!0,w(this),this.midUpdate=!1,this},loadImage:function(t,i){var r,e,f,s=this,o=!1;return(!this.imageLoaderLimit||this.downloading<this.imageLoaderLimit)&&(this.downloading++,r=new Image,f=function(r,u){if(s.downloading--,"function"==typeof i)try{i(u)}catch(f){n.console.error("%s while executing %s callback: %s",f.name,t,f.message,f)}},r.onload=function(){u(r,f,!0,e)},r.onabort=r.onerror=function(){u(r,f,!1,e)},e=window.setTimeout(function(){u(r,f,!1,e)},this.timeout),o=!0,r.src=t),o},canRotate:function(){return this.useCanvas}}}(OpenSeadragon),function(n){n.Viewport=function(t){var i=arguments;i.length&&i[0]instanceof n.Point&&(t={containerSize:i[0],contentSize:i[1],config:i[2]}),t.config&&(n.extend(!0,t,t.config),delete t.config),n.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:n.DEFAULT_SETTINGS.springStiffness,animationTime:n.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:n.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:n.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:n.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:n.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:n.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:n.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:n.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:n.DEFAULT_SETTINGS.maxZoomLevel,degrees:n.DEFAULT_SETTINGS.degrees},t),this.centerSpringX=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new n.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new n.Spring({initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.resetContentSize(this.contentSize),this.goHome(!0),this.update()},n.Viewport.prototype={resetContentSize:function(t){return this.contentSize=t,this.contentAspectX=this.contentSize.x/this.contentSize.y,this.contentAspectY=this.contentSize.y/this.contentSize.x,this.fitWidthBounds=new n.Rect(0,0,1,this.contentAspectY),this.fitHeightBounds=new n.Rect(0,0,this.contentAspectY,this.contentAspectY),this.homeBounds=new n.Rect(0,0,1,this.contentAspectY),this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:t}),this},getHomeZoom:function(){var n=this.contentAspectX/this.getAspectRatio();return this.defaultZoomLevel?this.defaultZoomLevel:n>=1?1:n},getHomeBounds:function(){var r=this.homeBounds.getCenter(),t=1/this.getHomeZoom(),i=t/this.getAspectRatio();return new n.Rect(r.x-t/2,r.y-i/2,t,i)},goHome:function(n){return this.viewer&&this.viewer.raiseEvent("home",{immediately:n}),this.fitBounds(this.getHomeBounds(),n)},getMinZoom:function(){var n=this.getHomeZoom(),t=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*n;return Math.min(t,n)},getMaxZoom:function(){var n=this.maxZoomLevel?this.maxZoomLevel:this.contentSize.x*this.maxZoomPixelRatio/this.containerSize.x;return Math.max(n,this.getHomeZoom())},getAspectRatio:function(){return this.containerSize.x/this.containerSize.y},getContainerSize:function(){return new n.Point(this.containerSize.x,this.containerSize.y)},getBounds:function(t){var u=this.getCenter(t),i=1/this.getZoom(t),r=i/this.getAspectRatio();return new n.Rect(u.x-i/2,u.y-r/2,i,r)},getCenter:function(t){var o,e,i,f,u,c,l,h,r=new n.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),s=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?r:this.zoomPoint?(o=this.pixelFromPoint(this.zoomPoint,!0),e=this.getZoom(),i=1/e,f=i/this.getAspectRatio(),u=new n.Rect(r.x-i/2,r.y-f/2,i,f),c=this.zoomPoint.minus(u.getTopLeft()).times(this.containerSize.x/u.width),l=c.minus(o),h=l.divide(this.containerSize.x*e),s.plus(h)):s},getZoom:function(n){return n?this.zoomSpring.current.value:this.zoomSpring.target.value},applyConstraints:function(n){var t,f,u,s,e,h,o,l=this.getZoom(),c=Math.max(Math.min(l,this.getMaxZoom()),this.getMinZoom()),r=0,i=0;return l!=c&&this.zoomTo(c,this.zoomPoint,n),t=this.getBounds(),f=this.visibilityRatio*t.width,u=this.visibilityRatio*t.height,s=t.x+t.width,e=1-t.x,h=t.y+t.height,o=this.contentAspectY-t.y,this.wrapHorizontal||(f>s&&(r=f-s),f>e&&(r=r?(r+e-f)/2:e-f)),this.wrapVertical||(u>h&&(i=u-h),u>o&&(i=i?(i+o-u)/2:o-u)),(r||i||n)&&(t.x+=r,t.y+=i,t.width>1&&(t.x=.5-t.width/2),t.height>this.contentAspectY&&(t.y=this.contentAspectY/2-t.height/2),this.fitBounds(t,n)),this.viewer&&this.viewer.raiseEvent("constrain",{immediately:n}),this},ensureVisible:function(n){return this.applyConstraints(n)},fitBounds:function(t,i){var u,s,o,h,f=this.getAspectRatio(),e=t.getCenter(),r=new n.Rect(t.x,t.y,t.width,t.height);return r.getAspectRatio()>=f?(r.height=t.width/f,r.y=e.y-r.height/2):(r.width=t.height*f,r.x=e.x-r.width/2),this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0),u=this.getBounds(),s=this.getZoom(),o=1/r.width,o==s||r.width==u.width?this.panTo(e,i):(h=u.getTopLeft().times(this.containerSize.x/u.width).minus(r.getTopLeft().times(this.containerSize.x/r.width)).divide(this.containerSize.x/u.width-this.containerSize.x/r.width),this.zoomTo(o,h,i))},fitVertically:function(n){var t=this.getCenter();return this.wrapHorizontal&&(t.x=(1+t.x%1)%1,this.centerSpringX.resetTo(t.x),this.centerSpringX.update()),this.wrapVertical&&(t.y=(this.contentAspectY+t.y%this.contentAspectY)%this.contentAspectY,this.centerSpringY.resetTo(t.y),this.centerSpringY.update()),this.fitBounds(this.fitHeightBounds,n)},fitHorizontally:function(n){var t=this.getCenter();return this.wrapHorizontal&&(t.x=(this.contentAspectX+t.x%this.contentAspectX)%this.contentAspectX,this.centerSpringX.resetTo(t.x),this.centerSpringX.update()),this.wrapVertical&&(t.y=(1+t.y%1)%1,this.centerSpringY.resetTo(t.y),this.centerSpringY.update()),this.fitBounds(this.fitWidthBounds,n)},panBy:function(t,i){var r=new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t=t.rotate(-this.degrees,new n.Point(0,0)),this.panTo(r.plus(t),i)},panTo:function(n,t){return t?(this.centerSpringX.resetTo(n.x),this.centerSpringY.resetTo(n.y)):(this.centerSpringX.springTo(n.x),this.centerSpringY.springTo(n.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:n,immediately:t}),this},zoomBy:function(t,i,r){return i instanceof n.Point&&!isNaN(i.x)&&!isNaN(i.y)&&(i=i.rotate(-this.degrees,new n.Point(this.centerSpringX.target.value,this.centerSpringY.target.value))),this.zoomTo(this.zoomSpring.target.value*t,i,r)},zoomTo:function(t,i,r){return this.zoomPoint=i instanceof n.Point&&!isNaN(i.x)&&!isNaN(i.y)?i:null,r?this.zoomSpring.resetTo(t):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:i,immediately:r}),this},setRotation:function(n){if(!this.viewer||!this.viewer.drawer.canRotate())return this;if(n=(n+360)%360,n%90!=0)throw new Error("Currently only 0, 90, 180, and 270 degrees are supported.");return this.degrees=n,this.viewer.drawer.update(),this},getRotation:function(){return this.degrees},resize:function(t,i){var u,f=this.getBounds(),r=f;return this.containerSize=new n.Point(t.x,t.y),i&&(u=t.x/this.containerSize.x,r.width=f.width*u,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:t,maintain:i}),this.fitBounds(r,!0)},update:function(){var t,r,u,n,f=this.centerSpringX.current.value,e=this.centerSpringY.current.value,i=this.zoomSpring.current.value;return this.zoomPoint&&(t=this.pixelFromPoint(this.zoomPoint,!0)),this.zoomSpring.update(),this.zoomPoint&&this.zoomSpring.current.value!=i?(r=this.pixelFromPoint(this.zoomPoint,!0),u=r.minus(t),n=this.deltaPointsFromPixels(u,!0),this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y)):this.zoomPoint=null,this.centerSpringX.update(),this.centerSpringY.update(),this.centerSpringX.current.value!=f||this.centerSpringY.current.value!=e||this.zoomSpring.current.value!=i},deltaPixelsFromPoints:function(n,t){return n.times(this.containerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(n,t){return n.divide(this.containerSize.x*this.getZoom(t))},pixelFromPoint:function(n,t){var i=this.getBounds(t);return n.minus(i.getTopLeft()).times(this.containerSize.x/i.width)},pointFromPixel:function(n,t){var i=this.getBounds(t);return n.divide(this.containerSize.x/i.width).plus(i.getTopLeft())},viewportToImageCoordinates:function(t,i){return 1==arguments.length?this.viewportToImageCoordinates(t.x,t.y):new n.Point(t*this.contentSize.x,i*this.contentSize.y*this.contentAspectX)},imageToViewportCoordinates:function(t,i){return 1==arguments.length?this.imageToViewportCoordinates(t.x,t.y):new n.Point(t/this.contentSize.x,i/this.contentSize.y/this.contentAspectX)},imageToViewportRectangle:function(t,i,r,u){var e,o,f;return 1==arguments.length?(f=t,this.imageToViewportRectangle(f.x,f.y,f.width,f.height)):(e=this.imageToViewportCoordinates(t,i),o=this.imageToViewportCoordinates(r,u),new n.Rect(e.x,e.y,o.x,o.y))},viewportToImageRectangle:function(t,i,r,u){var e,o,f;return 1==arguments.length?(f=t,this.viewportToImageRectangle(f.x,f.y,f.width,f.height)):(e=this.viewportToImageCoordinates(t,i),o=this.viewportToImageCoordinates(r,u),new n.Rect(e.x,e.y,o.x,o.y))},viewerElementToImageCoordinates:function(n){var t=this.pointFromPixel(n,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(n){var t=this.pixelFromPoint(n,!0);return this.imageToViewportCoordinates(t)},windowToImageCoordinates:function(n){var t=n.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(n){var t=this.imageToViewerElementCoordinates(n);return t.plus(OpenSeadragon.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(n){return this.pointFromPixel(n,!0)},viewportToViewerElementCoordinates:function(n){return this.pixelFromPoint(n,!0)},windowToViewportCoordinates:function(n){var t=n.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(t)},viewportToWindowCoordinates:function(n){var t=this.viewportToViewerElementCoordinates(n);return t.plus(OpenSeadragon.getElementPosition(this.viewer.element))},viewportToImageZoom:function(n){var r=this.viewer.source.dimensions.x,i=this.getContainerSize().x,t=i/r;return n*t},imageToViewportZoom:function(n){var r=this.viewer.source.dimensions.x,i=this.getContainerSize().x,t=r/i;return n*t}}}(OpenSeadragon),lazyLoadModule=function(){return{logErrorMessage:function(n,t,i,r,u,f){var e={errMsg:n,pageUrl:t,documentUrl:i,errLineno:r,errColNo:u,userAgent:f};$.ajax({type:"POST",url:"/CarsService.asmx/LogJsError",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json"})},lazyLoadImages:function(){$(".lazy").lazyload({effect:"fadeIn",skip_invisible:!1,appear:function(){$(this).attr("src",$(this).attr("data-original"))}})}}}(),$(document).ready(function(){window.onerror=function(n,t,i,r){t.indexOf("jquery.lazyload.js")!=-1&&lazyLoadModule.logErrorMessage(n,t,document.location.href,i,r,navigator.userAgent)},lazyLoadModule.lazyLoadImages()}),typeof Sys!="undefined"&&(prmLazyLoadInstance=Sys.WebForms.PageRequestManager.getInstance(),prmLazyLoadInstance.add_endRequest(lazyLoadModule.lazyLoadImages)),function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports!="undefined"?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var t=window.Slick||{};t=function(){function t(t,r){var u=this,f;u.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:n(t),appendDots:n(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return n('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},u.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},n.extend(u,u.initials),u.activeBreakpoint=null,u.animType=null,u.animProp=null,u.breakpoints=[],u.breakpointSettings=[],u.cssTransitions=!1,u.focussed=!1,u.interrupted=!1,u.hidden="hidden",u.paused=!0,u.positionProp=null,u.respondTo=null,u.rowCount=1,u.shouldClick=!0,u.$slider=n(t),u.$slidesCache=null,u.transformType=null,u.transitionType=null,u.visibilityChange="visibilitychange",u.windowWidth=0,u.windowTimer=null,f=n(t).data("slick")||{},u.options=n.extend({},u.defaults,r,f),u.currentSlide=u.options.initialSlide,u.originalSettings=u.options,typeof document.mozHidden!="undefined"?(u.hidden="mozHidden",u.visibilityChange="mozvisibilitychange"):typeof document.webkitHidden!="undefined"&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange"),u.autoPlay=n.proxy(u.autoPlay,u),u.autoPlayClear=n.proxy(u.autoPlayClear,u),u.autoPlayIterator=n.proxy(u.autoPlayIterator,u),u.changeSlide=n.proxy(u.changeSlide,u),u.clickHandler=n.proxy(u.clickHandler,u),u.selectHandler=n.proxy(u.selectHandler,u),u.setPosition=n.proxy(u.setPosition,u),u.swipeHandler=n.proxy(u.swipeHandler,u),u.dragHandler=n.proxy(u.dragHandler,u),u.keyHandler=n.proxy(u.keyHandler,u),u.instanceUid=i++,u.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,u.registerBreakpoints(),u.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){var n=this;n.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,r){var u=this;if(typeof i=="boolean")r=i,i=null;else if(i<0||i>=u.slideCount)return!1;u.unload(),typeof i=="number"?i===0&&u.$slides.length===0?n(t).appendTo(u.$slideTrack):r?n(t).insertBefore(u.$slides.eq(i)):n(t).insertAfter(u.$slides.eq(i)):r===!0?n(t).prependTo(u.$slideTrack):n(t).appendTo(u.$slideTrack),u.$slides=u.$slideTrack.children(this.options.slide),u.$slideTrack.children(this.options.slide).detach(),u.$slideTrack.append(u.$slides),u.$slides.each(function(t,i){n(i).attr("data-slick-index",t)}),u.$slidesCache=u.$slides,u.reinit()},t.prototype.animateHeight=function(){var n=this,t;n.options.slidesToShow===1&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.animate({height:t},n.options.speed))},t.prototype.animateSlide=function(t,i){var u={},r=this;r.animateHeight(),r.options.rtl===!0&&r.options.vertical===!1&&(t=-t),r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?(r.options.rtl===!0&&(r.currentLeft=-r.currentLeft),n({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(n){n=Math.ceil(n),r.options.vertical===!1?(u[r.animType]="translate("+n+"px, 0px)",r.$slideTrack.css(u)):(u[r.animType]="translate(0px,"+n+"px)",r.$slideTrack.css(u))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),u[r.animType]=r.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(u),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},t.prototype.getNavTarget=function(){var i=this,t=i.options.asNavFor;return t&&t!==null&&(t=n(t).not(i.$slider)),t},t.prototype.asNavFor=function(t){var r=this,i=r.getNavTarget();i!==null&&typeof i=="object"&&i.each(function(){var i=n(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(n){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)},t.prototype.autoPlay=function(){var n=this;n.autoPlayClear(),n.slideCount>n.options.slidesToShow&&(n.autoPlayTimer=setInterval(n.autoPlayIterator,n.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var n=this,t=n.currentSlide+n.options.slidesToScroll;n.paused||n.interrupted||n.focussed||(n.options.infinite===!1&&(n.direction===1&&n.currentSlide+1===n.slideCount-1?n.direction=0:n.direction===0&&(t=n.currentSlide-n.options.slidesToScroll,n.currentSlide-1==0&&(n.direction=1))),n.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=n(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=n(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t=this,i,r;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow){for(t.$slider.addClass("slick-dotted"),r=n("<ul />").addClass(t.options.dotsClass),i=0;i<=t.getDotCount();i+=1)r.append(n("<li />").append(t.options.customPaging.call(this,t,i)));t.$dots=r.appendTo(t.options.appendDots),t.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){n(i).attr("data-slick-index",t).data("originalStyling",n(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=t.slideCount===0?n('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),n("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses(typeof t.currentSlide=="number"?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var n=this,r,u,t,s,c,i,o,e,f,h;if(s=document.createDocumentFragment(),i=n.$slider.children(),n.options.rows>1){for(o=n.options.slidesPerRow*n.options.rows,c=Math.ceil(i.length/o),r=0;r<c;r++){for(e=document.createElement("div"),u=0;u<n.options.rows;u++){for(f=document.createElement("div"),t=0;t<n.options.slidesPerRow;t++)h=r*o+(u*n.options.slidesPerRow+t),i.get(h)&&f.appendChild(i.get(h));e.appendChild(f)}s.appendChild(e)}n.$slider.empty().append(s),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var r=this,f,u,o,e=!1,h=r.$slider.width(),s=window.innerWidth||n(window).width();if(r.respondTo==="window"?o=s:r.respondTo==="slider"?o=h:r.respondTo==="min"&&(o=Math.min(s,h)),r.options.responsive&&r.options.responsive.length&&r.options.responsive!==null){u=null;for(f in r.breakpoints)r.breakpoints.hasOwnProperty(f)&&(r.originalSettings.mobileFirst===!1?o<r.breakpoints[f]&&(u=r.breakpoints[f]):o>r.breakpoints[f]&&(u=r.breakpoints[f]));u!==null?r.activeBreakpoint!==null?(u!==r.activeBreakpoint||i)&&(r.activeBreakpoint=u,r.breakpointSettings[u]==="unslick"?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),e=u):(r.activeBreakpoint=u,r.breakpointSettings[u]==="unslick"?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),e=u):r.activeBreakpoint!==null&&(r.activeBreakpoint=null,r.options=r.originalSettings,t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t),e=u),t||e===!1||r.$slider.trigger("breakpoint",[r,e])}},t.prototype.changeSlide=function(t,i){var r=this,u=n(t.currentTarget),f,e,s,o;u.is("a")&&t.preventDefault(),u.is("li")||(u=u.closest("li")),s=r.slideCount%r.options.slidesToScroll!=0,f=s?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll;switch(t.data.message){case"previous":e=f===0?r.options.slidesToScroll:r.options.slidesToShow-f,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-e,!1,i);break;case"next":e=f===0?r.options.slidesToScroll:f,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+e,!1,i);break;case"index":o=t.data.index===0?0:t.data.index||u.index()*r.options.slidesToScroll,r.slideHandler(r.checkNavigable(o),!1,i),u.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(n){var u=this,t,r,i;if(t=u.getNavigableIndexes(),r=0,n>t[t.length-1])n=t[t.length-1];else for(i in t){if(n<t[i]){n=r;break}r=t[i]}return n},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&t.$dots!==null&&n("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",n.proxy(t.interrupt,t,!0)).off("mouseleave.slick",n.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),n(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&n(t.$slideTrack).children().off("click.slick",t.selectHandler),n(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),n(window).off("resize.slick.slick-"+t.instanceUid,t.resize),n("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),n(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),n(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",n.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",n.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var t=this,n;t.options.rows>1&&(n=t.$slides.children().children(),n.removeAttr("style"),t.$slider.empty().append(n))},t.prototype.clickHandler=function(n){var t=this;t.shouldClick===!1&&(n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),n(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){n(this).attr("style",n(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(n){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)},t.prototype.fadeSlide=function(n,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(n).css({zIndex:i.options.zIndex}),i.$slides.eq(n).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(n),i.$slides.eq(n).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(n),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(n){var t=this;t.cssTransitions===!1?t.$slides.eq(n).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(n),t.$slides.eq(n).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(n){var t=this;n!==null&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(n).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var r=n(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=r.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var n=this;return n.currentSlide},t.prototype.getDotCount=function(){var n=this,i=0,r=0,t=0;if(n.options.infinite===!0)while(i<n.slideCount)++t,i=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else if(n.options.centerMode===!0)t=n.slideCount;else if(n.options.asNavFor)while(i<n.slideCount)++t,i=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else t=1+Math.ceil((n.slideCount-n.options.slidesToShow)/n.options.slidesToScroll);return t-1},t.prototype.getLeft=function(n){var t=this,r,u,f=0,i;return t.slideOffset=0,u=t.$slides.first().outerHeight(!0),t.options.infinite===!0?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideWidth*t.options.slidesToShow*-1,f=u*t.options.slidesToShow*-1),t.slideCount%t.options.slidesToScroll!=0&&n+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(n>t.slideCount?(t.slideOffset=(t.options.slidesToShow-(n-t.slideCount))*t.slideWidth*-1,f=(t.options.slidesToShow-(n-t.slideCount))*u*-1):(t.slideOffset=t.slideCount%t.options.slidesToScroll*t.slideWidth*-1,f=t.slideCount%t.options.slidesToScroll*u*-1))):n+t.options.slidesToShow>t.slideCount&&(t.slideOffset=(n+t.options.slidesToShow-t.slideCount)*t.slideWidth,f=(n+t.options.slidesToShow-t.slideCount)*u),t.slideCount<=t.options.slidesToShow&&(t.slideOffset=0,f=0),t.options.centerMode===!0&&t.options.infinite===!0?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:t.options.centerMode===!0&&(t.slideOffset=0,t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),r=t.options.vertical===!1?n*t.slideWidth*-1+t.slideOffset:n*u*-1+f,t.options.variableWidth===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow),r=t.options.rtl===!0?i[0]?(t.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,t.options.centerMode===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow+1),r=t.options.rtl===!0?i[0]?(t.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,r+=(t.$list.width()-i.outerWidth())/2)),r},t.prototype.getOption=t.prototype.slickGetOption=function(n){var t=this;return t.options[n]},t.prototype.getNavigableIndexes=function(){var n=this,t=0,r=0,u=[],i;for(n.options.infinite===!1?i=n.slideCount:(t=n.options.slidesToScroll*-1,r=n.options.slidesToScroll*-1,i=n.slideCount*2);t<i;)u.push(t),t=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return u},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t=this,u,r,i;return i=t.options.centerMode===!0?t.slideWidth*Math.floor(t.options.slidesToShow/2):0,t.options.swipeToSlide===!0?(t.$slideTrack.find(".slick-slide").each(function(u,f){if(f.offsetLeft-i+n(f).outerWidth()/2>t.swipeLeft*-1)return r=f,!1}),u=Math.abs(n(r).attr("data-slick-index")-t.currentSlide)||1):t.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(n,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(n)}},t)},t.prototype.init=function(t){var i=this;n(i.$slider).hasClass("slick-initialized")||(n(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){n(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i+""})}),t.$dots!==null&&t.$dots.attr("role","tablist").find("li").each(function(i){n(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i+"",id:"slick-slide"+t.instanceUid+i+""})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var n=this;if(n.options.arrows===!0&&n.slideCount>n.options.slidesToShow){n.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},n.changeSlide);n.$nextArrow.off("click.slick").on("click.slick",{message:"next"},n.changeSlide)}},t.prototype.initDotEvents=function(){var t=this;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow)n("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide);if(t.options.dots===!0&&t.options.pauseOnDotsHover===!0)n("li",t.$dots).on("mouseenter.slick",n.proxy(t.interrupt,t,!0)).on("mouseleave.slick",n.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;if(t.options.pauseOnHover){t.$list.on("mouseenter.slick",n.proxy(t.interrupt,t,!0));t.$list.on("mouseleave.slick",n.proxy(t.interrupt,t,!1))}},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents();t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler);t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler);t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler);t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler);t.$list.on("click.slick",t.clickHandler);n(document).on(t.visibilityChange,n.proxy(t.visibility,t));if(t.options.accessibility===!0)t.$list.on("keydown.slick",t.keyHandler);if(t.options.focusOnSelect===!0)n(t.$slideTrack).children().on("click.slick",t.selectHandler);n(window).on("orientationchange.slick.slick-"+t.instanceUid,n.proxy(t.orientationChange,t));n(window).on("resize.slick.slick-"+t.instanceUid,n.proxy(t.resize,t));n("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault);n(window).on("load.slick.slick-"+t.instanceUid,t.setPosition);n(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.show(),n.$nextArrow.show()),n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.show()},t.prototype.keyHandler=function(n){var t=this;n.target.tagName.match("TEXTAREA|INPUT|SELECT")||(n.keyCode===37&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):n.keyCode===39&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function f(i){n("img[data-lazy]",i).each(function(){var i=n(this),r=n(this).attr("data-lazy"),u=document.createElement("img");u.onload=function(){i.animate({opacity:0},100,function(){i.attr("src",r).animate({opacity:1},200,function(){i.removeAttr("data-lazy").removeClass("slick-loading")}),t.$slider.trigger("lazyLoaded",[t,i,r])})},u.onerror=function(){i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),t.$slider.trigger("lazyLoadError",[t,i,r])},u.src=r})}var t=this,e,u,i,r;t.options.centerMode===!0?t.options.infinite===!0?(i=t.currentSlide+(t.options.slidesToShow/2+1),r=i+t.options.slidesToShow+2):(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),r=2+(t.options.slidesToShow/2+1)+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,r=Math.ceil(i+t.options.slidesToShow),t.options.fade===!0&&(i>0&&i--,r<=t.slideCount&&r++)),e=t.$slider.find(".slick-slide").slice(i,r),f(e),t.slideCount<=t.options.slidesToShow?(u=t.$slider.find(".slick-slide"),f(u)):t.currentSlide>=t.slideCount-t.options.slidesToShow?(u=t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow),f(u)):t.currentSlide===0&&(u=t.$slider.find(".slick-cloned").slice(t.options.slidesToShow*-1),f(u))},t.prototype.loadSlider=function(){var n=this;n.setPosition(),n.$slideTrack.css({opacity:1}),n.$slider.removeClass("slick-loading"),n.initUI(),n.options.lazyLoad==="progressive"&&n.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var n=this;n.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var n=this;n.checkResponsive(),n.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var n=this;n.autoPlayClear(),n.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var n=this;n.autoPlay(),n.options.autoplay=!0,n.paused=!1,n.focussed=!1,n.interrupted=!1},t.prototype.postSlide=function(n){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,n]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){var n=this;n.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(n){n.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i=this,e=n("img[data-lazy]",i.$slider),r,u,f;e.length?(r=e.first(),u=r.attr("data-lazy"),f=document.createElement("img"),f.onload=function(){r.attr("src",u).removeAttr("data-lazy").removeClass("slick-loading"),i.options.adaptiveHeight===!0&&i.setPosition(),i.$slider.trigger("lazyLoaded",[i,r,u]),i.progressiveLazyLoad()},f.onerror=function(){t<3?setTimeout(function(){i.progressiveLazyLoad(t+1)},500):(r.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,r,u]),i.progressiveLazyLoad())},f.src=u):i.$slider.trigger("allImagesLoaded",[i])},t.prototype.refresh=function(t){var i=this,u,r;r=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>r&&(i.currentSlide=r),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),u=i.currentSlide,i.destroy(!0),n.extend(i,i.initials,{currentSlide:u}),i.init(),t||i.changeSlide({data:{message:"index",index:u}},!1)},t.prototype.registerBreakpoints=function(){var t=this,f,u,i,r=t.options.responsive||null;if(n.type(r)==="array"&&r.length){t.respondTo=t.options.respondTo||"window";for(f in r)if(i=t.breakpoints.length-1,u=r[f].breakpoint,r.hasOwnProperty(f)){while(i>=0)t.breakpoints[i]&&t.breakpoints[i]===u&&t.breakpoints.splice(i,1),i--;t.breakpoints.push(u),t.breakpointSettings[u]=r[f].settings}t.breakpoints.sort(function(n,i){return t.options.mobileFirst?n-i:i-n})}},t.prototype.reinit=function(){var t=this;if(t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&t.currentSlide!==0&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0)n(t.$slideTrack).children().on("click.slick",t.selectHandler);t.setSlideClasses(typeof t.currentSlide=="number"?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;n(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=n(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(n,t,i){var r=this;if(typeof n=="boolean"?(t=n,n=t===!0?0:r.slideCount-1):n=t===!0?--n:n,r.slideCount<1||n<0||n>r.slideCount-1)return!1;r.unload(),i===!0?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(n).remove(),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slidesCache=r.$slides,r.reinit()},t.prototype.setCSS=function(n){var t=this,i={},u,r;t.options.rtl===!0&&(n=-n),u=t.positionProp=="left"?Math.ceil(n)+"px":"0px",r=t.positionProp=="top"?Math.ceil(n)+"px":"0px",i[t.positionProp]=n,t.transformsEnabled===!1?t.$slideTrack.css(i):(i={},t.cssTransitions===!1?(i[t.animType]="translate("+u+", "+r+")",t.$slideTrack.css(i)):(i[t.animType]="translate3d("+u+", "+r+", 0px)",t.$slideTrack.css(i)))},t.prototype.setDimensions=function(){var n=this,t;n.options.vertical===!1?n.options.centerMode===!0&&n.$list.css({padding:"0px "+n.options.centerPadding}):(n.$list.height(n.$slides.first().outerHeight(!0)*n.options.slidesToShow),n.options.centerMode===!0&&n.$list.css({padding:n.options.centerPadding+" 0px"})),n.listWidth=n.$list.width(),n.listHeight=n.$list.height(),n.options.vertical===!1&&n.options.variableWidth===!1?(n.slideWidth=Math.ceil(n.listWidth/n.options.slidesToShow),n.$slideTrack.width(Math.ceil(n.slideWidth*n.$slideTrack.children(".slick-slide").length))):n.options.variableWidth===!0?n.$slideTrack.width(5e3*n.slideCount):(n.slideWidth=Math.ceil(n.listWidth),n.$slideTrack.height(Math.ceil(n.$slides.first().outerHeight(!0)*n.$slideTrack.children(".slick-slide").length))),t=n.$slides.first().outerWidth(!0)-n.$slides.first().width(),n.options.variableWidth===!1&&n.$slideTrack.children(".slick-slide").width(n.slideWidth-t)},t.prototype.setFade=function(){var t=this,i;t.$slides.each(function(r,u){i=t.slideWidth*r*-1,t.options.rtl===!0?n(u).css({position:"relative",right:i,top:0,zIndex:t.options.zIndex-2,opacity:0}):n(u).css({position:"relative",left:i,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var n=this,t;n.options.slidesToShow===1&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.css("height",t))},t.prototype.setOption=t.prototype.slickSetOption=function(){var t=this,u,e,f,r,o=!1,i;if(n.type(arguments[0])==="object"?(f=arguments[0],o=arguments[1],i="multiple"):n.type(arguments[0])==="string"&&(f=arguments[0],r=arguments[1],o=arguments[2],arguments[0]==="responsive"&&n.type(arguments[1])==="array"?i="responsive":typeof arguments[1]!="undefined"&&(i="single")),i==="single")t.options[f]=r;else if(i==="multiple")n.each(f,function(n,i){t.options[n]=i});else if(i==="responsive")for(e in r)if(n.type(t.options.responsive)!=="array")t.options.responsive=[r[e]];else{for(u=t.options.responsive.length-1;u>=0;)t.options.responsive[u].breakpoint===r[e].breakpoint&&t.options.responsive.splice(u,1),u--;t.options.responsive.push(r[e])}o&&(t.unload(),t.reinit())},t.prototype.setPosition=function(){var n=this;n.setDimensions(),n.setHeight(),n.options.fade===!1?n.setCSS(n.getLeft(n.currentSlide)):n.setFade(),n.$slider.trigger("setPosition",[n])},t.prototype.setProps=function(){var n=this,t=document.body.style;n.positionProp=n.options.vertical===!0?"top":"left",n.positionProp==="top"?n.$slider.addClass("slick-vertical"):n.$slider.removeClass("slick-vertical"),(t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.msTransition!==undefined)&&n.options.useCSS===!0&&(n.cssTransitions=!0),n.options.fade&&(typeof n.options.zIndex=="number"?n.options.zIndex<3&&(n.options.zIndex=3):n.options.zIndex=n.defaults.zIndex),t.OTransform!==undefined&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(n.animType=!1)),t.MozTransform!==undefined&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition",t.perspectiveProperty===undefined&&t.MozPerspective===undefined&&(n.animType=!1)),t.webkitTransform!==undefined&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(n.animType=!1)),t.msTransform!==undefined&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition",t.msTransform===undefined&&(n.animType=!1)),t.transform!==undefined&&n.animType!==!1&&(n.animType="transform",n.transformType="transform",n.transitionType="transition"),n.transformsEnabled=n.options.useTransform&&n.animType!==null&&n.animType!==!1},t.prototype.setSlideClasses=function(n){var t=this,u,i,r,f;i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-current"),t.options.centerMode===!0?(u=Math.floor(t.options.slidesToShow/2),t.options.infinite===!0&&(n>=u&&n<=t.slideCount-1-u?t.$slides.slice(n-u,n+u+1).addClass("slick-active").attr("aria-hidden","false"):(r=t.options.slidesToShow+n,i.slice(r-u+1,r+u+2).addClass("slick-active").attr("aria-hidden","false")),n===0?i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center"):n===t.slideCount-1&&i.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(n).addClass("slick-center")):n>=0&&n<=t.slideCount-t.options.slidesToShow?t.$slides.slice(n,n+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=t.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(f=t.slideCount%t.options.slidesToShow,r=t.options.infinite===!0?t.options.slidesToShow+n:n,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-n<t.options.slidesToShow?i.slice(r-(t.options.slidesToShow-f),r+f).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),t.options.lazyLoad==="ondemand"&&t.lazyLoad()},t.prototype.setupInfinite=function(){var t=this,i,r,u;if(t.options.fade===!0&&(t.options.centerMode=!1),t.options.infinite===!0&&t.options.fade===!1&&(r=null,t.slideCount>t.options.slidesToShow)){for(u=t.options.centerMode===!0?t.options.slidesToShow+1:t.options.slidesToShow,i=t.slideCount;i>t.slideCount-u;i-=1)r=i-1,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r-t.slideCount).prependTo(t.$slideTrack).addClass("slick-cloned");for(i=0;i<u;i+=1)r=i,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r+t.slideCount).appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){n(this).attr("id","")})}},t.prototype.interrupt=function(n){var t=this;n||t.autoPlay(),t.interrupted=n},t.prototype.selectHandler=function(t){var r=this,u=n(t.target).is(".slick-slide")?n(t.target):n(t.target).parents(".slick-slide"),i=parseInt(u.attr("data-slick-index"));if(i||(i=0),r.slideCount<=r.options.slidesToShow){r.setSlideClasses(i),r.asNavFor(i);return}r.slideHandler(i)},t.prototype.slideHandler=function(n,t,i){var u,f,s,o,h=null,r=this,e;if((t=t||!1,r.animating!==!0||r.options.waitForAnimate!==!0)&&(r.options.fade!==!0||r.currentSlide!==n)&&!(r.slideCount<=r.options.slidesToShow)){if(t===!1&&r.asNavFor(n),u=n,h=r.getLeft(u),o=r.getLeft(r.currentSlide),r.currentLeft=r.swipeLeft===null?o:r.swipeLeft,r.options.infinite===!1&&r.options.centerMode===!1&&(n<0||n>r.getDotCount()*r.options.slidesToScroll)){r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(o,function(){r.postSlide(u)}):r.postSlide(u));return}if(r.options.infinite===!1&&r.options.centerMode===!0&&(n<0||n>r.slideCount-r.options.slidesToScroll)){r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(o,function(){r.postSlide(u)}):r.postSlide(u));return}if(r.options.autoplay&&clearInterval(r.autoPlayTimer),f=u<0?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+u:u>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:u-r.slideCount:u,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,f]),s=r.currentSlide,r.currentSlide=f,r.setSlideClasses(r.currentSlide),r.options.asNavFor&&(e=r.getNavTarget(),e=e.slick("getSlick"),e.slideCount<=e.options.slidesToShow&&e.setSlideClasses(r.currentSlide)),r.updateDots(),r.updateArrows(),r.options.fade===!0){i!==!0?(r.fadeSlideOut(s),r.fadeSlide(f,function(){r.postSlide(f)})):r.postSlide(f),r.animateHeight();return}i!==!0?r.animateSlide(h,function(){r.postSlide(f)}):r.postSlide(f)}},t.prototype.startLoad=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.hide(),n.$nextArrow.hide()),n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.hide(),n.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var i,r,u,n,t=this;return(i=t.touchObject.startX-t.touchObject.curX,r=t.touchObject.startY-t.touchObject.curY,u=Math.atan2(r,i),n=Math.round(u*180/Math.PI),n<0&&(n=360-Math.abs(n)),n<=45&&n>=0)?t.options.rtl===!1?"left":"right":n<=360&&n>=315?t.options.rtl===!1?"left":"right":n>=135&&n<=225?t.options.rtl===!1?"right":"left":t.options.verticalSwiping===!0?n>=35&&n<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(){var t=this,r,i;if(t.dragging=!1,t.interrupted=!1,t.shouldClick=t.touchObject.swipeLength>10?!1:!0,t.touchObject.curX===undefined)return!1;if(t.touchObject.edgeHit===!0&&t.$slider.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe){i=t.swipeDirection();switch(i){case"left":case"down":r=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.currentDirection=0;break;case"right":case"up":r=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.currentDirection=1}i!="vertical"&&(t.slideHandler(r),t.touchObject={},t.$slider.trigger("swipe",[t,i]))}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},t.prototype.swipeHandler=function(n){var t=this;if(t.options.swipe!==!1&&(!("ontouchend"in document)||t.options.swipe!==!1)&&(t.options.draggable!==!1||n.type.indexOf("mouse")===-1)){t.touchObject.fingerCount=n.originalEvent&&n.originalEvent.touches!==undefined?n.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold);switch(n.data.action){case"start":t.swipeStart(n);break;case"move":t.swipeMove(n);break;case"end":t.swipeEnd(n)}}},t.prototype.swipeMove=function(n){var t=this,o=!1,f,e,u,r,i;if(i=n.originalEvent!==undefined?n.originalEvent.touches:null,!t.dragging||i&&i.length!==1)return!1;if(f=t.getLeft(t.currentSlide),t.touchObject.curX=i!==undefined?i[0].pageX:n.clientX,t.touchObject.curY=i!==undefined?i[0].pageY:n.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),t.options.verticalSwiping===!0&&(t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2)))),e=t.swipeDirection(),e!=="vertical"){if(n.originalEvent!==undefined&&t.touchObject.swipeLength>4&&n.preventDefault(),r=(t.options.rtl===!1?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1),t.options.verticalSwiping===!0&&(r=t.touchObject.curY>t.touchObject.startY?1:-1),u=t.touchObject.swipeLength,t.touchObject.edgeHit=!1,t.options.infinite===!1&&(t.currentSlide===0&&e==="right"||t.currentSlide>=t.getDotCount()&&e==="left")&&(u=t.touchObject.swipeLength*t.options.edgeFriction,t.touchObject.edgeHit=!0),t.swipeLeft=t.options.vertical===!1?f+u*r:f+u*(t.$list.height()/t.listWidth)*r,t.options.verticalSwiping===!0&&(t.swipeLeft=f+u*r),t.options.fade===!0||t.options.touchMove===!1)return!1;if(t.animating===!0)return t.swipeLeft=null,!1;t.setCSS(t.swipeLeft)}},t.prototype.swipeStart=function(n){var t=this,i;if(t.interrupted=!0,t.touchObject.fingerCount!==1||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;n.originalEvent!==undefined&&n.originalEvent.touches!==undefined&&(i=n.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=i!==undefined?i.pageX:n.clientX,t.touchObject.startY=t.touchObject.curY=i!==undefined?i.pageY:n.clientY,t.dragging=!0},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var n=this;n.$slidesCache!==null&&(n.unload(),n.$slideTrack.children(this.options.slide).detach(),n.$slidesCache.appendTo(n.$slideTrack),n.reinit())},t.prototype.unload=function(){var t=this;n(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(n){var t=this;t.$slider.trigger("unslick",[t,n]),t.destroy()},t.prototype.updateArrows=function(){var n=this,t;t=Math.floor(n.options.slidesToShow/2),n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&!n.options.infinite&&(n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.currentSlide===0?(n.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-n.options.slidesToShow&&n.options.centerMode===!1?(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-1&&n.options.centerMode===!0&&(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var n=this;n.$dots!==null&&(n.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),n.$dots.find("li").eq(Math.floor(n.currentSlide/n.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var n=this;n.options.autoplay&&(n.interrupted=document[n.hidden]?!0:!1)},n.fn.slick=function(){for(var i=this,r=arguments[0],f=Array.prototype.slice.call(arguments,1),e=i.length,u,n=0;n<e;n++)if(typeof r=="object"||typeof r=="undefined"?i[n].slick=new t(i[n],r):u=i[n].slick[r].apply(i[n].slick,f),typeof u!="undefined")return u;return i}})